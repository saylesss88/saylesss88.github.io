<?xml version="1.0" encoding="utf-8"?><rss version="2.0"><channel><title>nix-book</title><link>https://saylesss88.github.io/</link><description>An mdBook-generated site</description><generator>mdbook-rss-feed 0.1.0</generator><item><title>Nix Lang</title><link>https://saylesss88.github.io/nix/nix_language.html</link><description><![CDATA[<p>The Nix language is designed for conveniently creating and composing
<em>derivations</em> precise descriptions of how contents of files are used to derive
new files. ‚Äì<a href="https://nix.dev/manual/nix/2.28/language/">Nix Reference Manual</a></p><p>Nix is often described as ‚ÄúJSON with functions.‚Äù It‚Äôs a declarative language
where you define outcomes, not step-by-step instructions. Instead of writing
sequential code, you create expressions that describe data structures,
functions, and dependencies. These expressions are evaluated lazily, meaning Nix
computes values only when needed, making it efficient for managing large
systems.</p><p>You can plug most of the following into the <code>nix repl</code> I‚Äôm showing it in a
single code block here for brevity:</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/nix_language.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Readme1</title><link>https://saylesss88.github.io/nix/index.html</link><description><![CDATA[<p>üìå <strong>How to Use This Guide</strong></p><p><strong>Read warnings</strong>: Advanced hardening can break compatibility or cause data
loss! Pause and research before enabling anything not listed above unless you
understand the consequences.</p><p>The guide is broken up into 2 chapters:</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/index.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>GnuPG gpg-agent</title><link>https://saylesss88.github.io/nix/gpg-agent.html</link><description><![CDATA[<p>‚ö†Ô∏è <strong>SECURITY WARNING</strong>: This guide involves sensitive cryptographic material.
<strong>Never share your private key or passphrase</strong>. Backup your keys and handle
them with extreme care.</p><p><strong>GnuPG</strong> is a complete and free implementation of the OpenPGP standard. It
allows you to encrypt and sign your data and communications, has a versatile key
management system, and access modules for many kinds of public key directories.
GnuPG (GPG), is a command line tool for secure communication.</p><p><strong>PGP (Pretty Good Privacy)</strong> and <strong>GPG (GNU Privacy Guard)</strong>. While distinct,
they are deeply interconnected and, for the rest of this section, I‚Äôll use the
terms interchangeably.</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/gpg-agent.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Unencrypted Impermanence</title><link>https://saylesss88.github.io/nix/impermanence.html</link><description><![CDATA[<p>Figure 1: <strong>Impermanence Logo</strong>: Image of the Impermanence logo. Sourced from
the</p><p><a href="https://github.com/nix-community/impermanence">Impermanence repo</a></p><p><img src="../images/Impermanence.png" alt="Impermanence Logo" /></p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/impermanence.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Nix Package Manager</title><link>https://saylesss88.github.io/nix/nix_package_manager.html</link><description><![CDATA[<p>Nix is a <em>purely functional package manager</em>. This means that it treats packages
like values in purely functional programming languages ‚Äì they are built by
functions that don‚Äôt have side-effects, and they never change after they have
been built.</p><p>Nix stores packages in the <em>Nix store</em>, usually the directory <code>/nix/store</code>,
where each package has its own unique subdirectory such as:</p><pre><code class="language-bash">/nix/store/y53c0lamag5wpx7vsiv7wmnjdgq97yd6-yazi-25.5.14pre20250526_74a8ea9
</code></pre>
<p>You can use the Nix on most Linux distributions and Mac OS also has good support
for Nix. It should work on most platforms that support POSIX threads and have a
C++11 compiler.</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/nix_package_manager.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Cachix devour-flake</title><link>https://saylesss88.github.io/nix/cachix_devour.html</link><description><![CDATA[<p>Using devour-flake to Cache All Your Flake Outputs to Cachix</p><p>When working with Nix flakes, it‚Äôs common to have many outputs‚Äîpackages, apps,
dev shells, NixOS or Darwin configurations, and more. Efficiently building and
caching all these outputs can be challenging, especially in CI or when
collaborating. This is where devour-flake and Cachix shine. Why Use
devour-flake?</p><p>By default, building all outputs of a flake with <code>nix build .#a .#b ... .#z</code> can
be slow and inefficient, as Nix will evaluate the flake multiple times‚Äîonce for
each output. devour-flake solves this by generating a ‚Äúconsumer‚Äù flake that
depends on all outputs, allowing you to build everything in one go with a single
evaluation</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/cachix_devour.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Whonix KVM on NixOS</title><link>https://saylesss88.github.io/nix/whonix_kvm.html</link><description><![CDATA[<p><img src="../images/swappy-20250901-101339.cleaned.png" alt="Whonix Logo" /></p><p>‚ö†Ô∏è WARNING: There is no general software that can guarantee absolute anonymity
or security; perfect security is a myth. Security is a continuous process, not
a one-time product. It also depends on time and resources: if an adversary has
enough of either, eventual compromise is probable. However, by layering
defenses and following best practices, we can make attacks costly and
time-consuming, deterring all but highly targeted adversaries.</p><p>It is highly recommended to harden your Host Machine as Type 2 hypervisors are
only as secure as their host. KVM is actually a type 1 hypervisor but relies on
QEMU for emulation which is a Type 2 hypervisor. This actually makes it a sort
of hybrid in between Type 1 ]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/whonix_kvm.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Hardening Networking</title><link>https://saylesss88.github.io/nix/hardening_networking.html</link><description><![CDATA[<p>Since networks and systems vary, some adjustments may cause unexpected issues,
especially around critical components like DNS or firewalls. Always review and
test changes in a controlled environment before applying them broadly.</p><p>Understand the trade-offs and tailor the settings to your threat model and
workflow. Take what‚Äôs useful, adapt as needed, and seek expert guidance for
more advanced scenarios.</p><p>Every setup is unique, feel free to adapt or skip sections based on your needs.
Start with the basics and build up as you gain confidence. The goal is
practical, tested hardening tailored to you.</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/hardening_networking.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>KVM</title><link>https://saylesss88.github.io/nix/kvm.html</link><description><![CDATA[<p><img src="images/steampunk5.cleaned.png" alt="sp5" /></p><p><strong>Host</strong> <code>secureblue</code> = Fedora Atomic with <strong>SELinux enforcing</strong>, <strong>sVirt</strong>,
<strong>Secure Boot</strong>, and hardened defaults.</p><p><strong>Guest</strong>: NixOS in a VM ‚Üí full declarative power, near zero risk to host.</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/kvm.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Hardening NixOS</title><link>https://saylesss88.github.io/nix/hardening_NixOS.html</link><description><![CDATA[<p><img src="../images/guy_fawks.png" alt="guy fawks hacker" /></p><p>Securing your NixOS system begins with a philosophy of minimalism, explicit
configuration, and proactive control. As desktop Linux attracts more novice
users, it has become an increasingly valuable target for attackers. This makes
it crucial to adopt security best practices early to protect your desktop from
common attack vectors and to avoid configuration mistakes that could expose
vulnerabilities.</p><p>‚ö†Ô∏è Warning: I am not a security expert. This guide presents various options
for hardening NixOS, but it is your responsibility to evaluate whether each
adjustment suits your specific needs and environment. Security hardening and
process isolation can introduce stability challenges, compatibility issues, or
unexpected be]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/hardening_NixOS.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Sops-Nix</title><link>https://saylesss88.github.io/nix/sops-nix.html</link><description><![CDATA[<p><a href="https://github.com/getsops/sops?ref=blog.gitguardian.com">SOPS</a>, short for
<strong>S</strong>ecrets<strong>OP</strong>eration<strong>S</strong>, is an editor of encrypted files that supports
quite a few BINARY formats and encrypts with AWS KMS, GCP KMS, Azure Key Vault,
age, and PGP.</p><p>Managing secrets‚Äîlike API keys, SSH deploy keys, and password hashes is a
critical part of system configuration, but it‚Äôs also one of the trickiest to do
securely and reproducibly. Traditionally, secrets might be stored in ad hoc
locations, referenced by absolute paths, or managed manually outside of version
control. This approach makes it hard to share, rebuild, or audit your
configuration, and increases the risk of accidental leaks or inconsistencies
between systems.</p><p><code>sops-nix]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/sops-nix.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Nix Paths</title><link>https://saylesss88.github.io/nix/nixLang/nix_paths.html</link><description><![CDATA[<p>The following examples are done with a local <code>nixpkgs</code> clone located at
<code>~/src/nixpkgs</code></p><p>Paths in Nix always need a <code>/</code> in them and always expand to absolute paths
relative to your current directory.</p><pre><code class="language-bash">nix repl
nix-repl&gt; ./.
/home/jr/src/nixpkgs
nix-repl&gt; ./. + "/lib"
/home/jr/src/nixpkgs/lib
</code></pre>
<p>Nix does <em>path normalization</em> every time you append strings, so if you just add
a slash <code>/</code> its not actually there:</p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/nix/nixLang/nix_paths.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>My Chapter</title><link>https://saylesss88.github.io/installation/index.html</link><description><![CDATA[<p>This section provides detailed guides for installing NixOS. You‚Äôll choose
between an <strong>unencrypted</strong> or <strong>encrypted</strong> base setup. After your core
installation, you can explore adding optional features like <code>sops</code> for encrypted
secrets, <code>lanzaboote</code> for Secure Boot, or <code>impermanence</code> for a stateless system.</p><p><strong>Guide:</strong>
<a href="https://saylesss88.github.io/installation/unencrypted/unencrypted.html">Minimal Btrfs-Subvol Install with Disko and Flakes</a></p><p><strong>Best for:</strong></p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/index.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Unencrypted Install</title><link>https://saylesss88.github.io/installation/unenc/unencrypted_setups.html</link><description><![CDATA[<p>Figure 1: BTRFS Logo: Image of the BTRFS logo. Sourced from the BTRFS repo BTRFS
logo</p><p>Why I Chose BTRFS I chose BTRFS because I was already familiar with it from
using it with Arch Linux and I found it to be very easy to use. From what I‚Äôve
read, there are licensing issues between the Linux Kernel and ZFS which means
that ZFS is not part of the Linux Kernel; it‚Äôs maintained by the OpenZFS project
and available as a separate kernel module. This can cause issues and make you
think more about your filesystem than I personally want to at this point.</p><p>A <strong>Btrfs subvolume</strong> is essentially a distinct section within a Btrfs
filesystem that maintains its own set of files and directories, along with a
separate inode numbering system. Unlike block-level partitions (such as ]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/unenc/unencrypted_setups.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>USB Keyfile</title><link>https://saylesss88.github.io/installation/enc/USB_keyfile.html</link><description><![CDATA[<p>This allows you to use a USB stick for your keyfile, with a backup in case you
want or need it. There is a setting <code>fallbackToPassword</code> that protects you in
case something fails with the USB key.</p><p>First, I‚Äôll show how to set up a dedicated USB stick for a keyfile. (i.e., one
that is only used for this). After that I will show the process of adding the
keyfile to a USB stick with existing data on it that you don‚Äôt want to lose.</p><p><strong>Generate the keyfile</strong></p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/enc/USB_keyfile.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Encrypted Impermanence</title><link>https://saylesss88.github.io/installation/enc/encrypted_impermanence.html</link><description><![CDATA[<p>‚ùó Important Note: This guide details a setup involving encrypted partitions
and impermanent NixOS. While powerful, such configurations require careful
attention to detail. Incorrect steps, especially concerning encryption keys or
persistent data paths, can lead to <strong>permanent data loss</strong>. Please read all
instructions thoroughly before proceeding and consider backing up any critical
data beforehand. This has only been tested with the disk layout described in
<a href="https://saylesss88.github.io/installation/encrypted_manual.html">Encrypted Setups</a></p><p>As a system operates, it gradually accumulates state on its root partition. This
state is stored in various directories such as <code>/etc</code> and <code>/var</code>, capturing all
the configuration changes, logs, and o]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/enc/encrypted_impermanence.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Lanzaboote</title><link>https://saylesss88.github.io/installation/enc/lanzaboote.html</link><description><![CDATA[<p>‚ö†Ô∏è <strong>Warning: This can easily brick your system</strong> ‚ö†Ô∏è</p><p>We will mainly follow the lanzaboote
<a href="https://github.com/nix-community/lanzaboote/blob/master/docs/QUICK_START.md">Quick Start Guide</a></p><p>For Windows dual-booters and BitLocker users, you should export your BitLocker
recovery keys and confirm that they are correct. Refer to this
<a href="https://support.microsoft.com/en-us/windows/find-your-bitlocker-recovery-key-6b71ad27-0b89-ea08-f143-056f5ab347d6">Microsoft support article</a></p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/enc/lanzaboote.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Encrypted Install</title><link>https://saylesss88.github.io/installation/enc/enc_install.html</link><description><![CDATA[<p>NixOS supports file systems that are encrypted using LUKS (Linux Unified Key
Setup). This guide walks you through an encrypted NixOS installation using Disko
for disk management and Btrfs for subvolumes. It is designed for users who want
full disk encryption and a modern filesystem layout. If you prefer an
unencrypted setup, you can skip the LUKS and encryption steps, but this guide
focuses on security and flexibility.</p><p>If you choose to set up impermanence, ensure it matches your install. Encrypted
Setup with Encrypted Impermanence and Unencrypted Setup with Unencrypted
Impermanence.</p><p>‚ùó NOTE: This is a bit convoluted, there are a few paths you can follow. If
you choose to use the starter repo (<a href="https://github.com/saylesss88/my-flake">https://github.com/saylesss88/my-fl]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/enc/enc_install.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Sops-Nix</title><link>https://saylesss88.github.io/installation/enc/sops-nix.html</link><description><![CDATA[<p><a href="https://github.com/getsops/sops?ref=blog.gitguardian.com">SOPS</a>, short for
<strong>S</strong>ecrets<strong>OP</strong>eration<strong>S</strong>, is an editor of encrypted files that supports
quite a few BINARY formats and encrypts with AWS KMS, GCP KMS, Azure Key Vault,
age, and PGP.</p><p>Managing secrets‚Äîlike API keys, SSH deploy keys, and password hashes is a
critical part of system configuration, but it‚Äôs also one of the trickiest to do
securely and reproducibly. Traditionally, secrets might be stored in ad hoc
locations, referenced by absolute paths, or managed manually outside of version
control. This approach makes it hard to share, rebuild, or audit your
configuration, and increases the risk of accidental leaks or inconsistencies
between systems.</p><p><code>sops-nix]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/installation/enc/sops-nix.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item><item><title>Practical Nix Functions</title><link>https://saylesss88.github.io/functions/practical_functions_2.1.html</link><description><![CDATA[<p><img src="images/coding6.png" alt="coding6" /></p><p><a href="https://gitlab.com/api/v4/projects/4207231/packages/generic/graphviz-releases/2.49.3/graphviz-2.49.3.tar.gz">graphviz</a></p><p><a href="https://ftp.gnu.org/gnu/hello/hello-2.12.1.tar.gz">hello</a></p>]]></description><author>saylesss88</author><guid>https://saylesss88.github.io/functions/practical_functions_2.1.html</guid><pubDate>Sat, 22 Nov 2025 00:00:00 +0000</pubDate></item></channel></rss>