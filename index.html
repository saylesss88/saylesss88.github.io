<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting Started with the Nix Ecosystem - nix-book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <a href="#" class="top-link" id="back-to-top">↑</a>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">nix-book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="chapter1"><a class="header" href="#chapter1">Chapter1</a></h1>
<!--toc:start-->
<ul>
<li><a href="#chapter1">Chapter1</a>
<ul>
<li><a href="#getting-started-with-the-nix-ecosystem">Getting Started with the Nix Ecosystem</a></li>
<li><a href="#nix-ecosystem">Nix Ecosystem</a></li>
<li><a href="#why-learn-nix">Why Learn Nix?</a></li>
<li><a href="#how-it-fits-together">How it Fits Together</a></li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#resources">Resources</a></li>
</ul>
<!--toc:end-->
</li>
</ul>
<h2 id="getting-started-with-the-nix-ecosystem"><a class="header" href="#getting-started-with-the-nix-ecosystem">Getting Started with the Nix Ecosystem</a></h2>
<p><img src="images/gruv13.png" alt="gruv13" /></p>
<p>Welcome to the world of Nix, a powerful tool for reproducible and declarative
software management. In this chapter, I will explain how the pieces of the Nix
Ecosystem fit together.</p>
<details>
<summary>
- ✔️: Will indicate an expandable section, click the little triangle to expand.
</summary>
<ul>
<li>These sections are expandable!</li>
</ul>
</details>
<ul>
<li>
<p>The code blocks have an option to hide code, where I find it reasonable I will
hide the outputs of the expressions. Click the eye in the right corner of the
code block next to the copy clipboard.</p>
<ul>
<li>Example click the eye to see hidden text:</li>
</ul>
<pre><code class="language-nix">{
  attrset = { a = 2; b = 4; };
<span class="boring">  hidden_set = { a = hidden; b = set; };
</span>}
</code></pre>
</li>
<li>
<p><a href="https://saylesss88.github.io/nix/nix_language.md">Nix Language</a>(Click Here
for a Nix Lang Overview).</p>
</li>
<li>
<p><strong>Nix</strong>: is a package manager and a build system that allows you to write
declarative scripts for reproducible software builds in the <strong>Nix Language</strong>.</p>
</li>
<li>
<p><strong>NixOS</strong> is the natural consequence of using Nix to build Linux
systems. You can think about NixOS as a bunch of prebaked snippets of
configuration that you can combine into a running system that does what
you want. Each of those snippets is called a module. -- xeiaso</p>
</li>
</ul>
<p>The following bulletpoints can help you get started, they are vast resources
that take a while to fully absorb. The documentation isn't necessarily bad it's
just spread out because from my understanding Nix isn't "allowed" to mention
Flakes in it's manual so you have to look elsewhere.</p>
<h2 id="nix-ecosystem"><a class="header" href="#nix-ecosystem">Nix Ecosystem</a></h2>
<ul>
<li>
<p><a href="https://wiki.nixos.org/wiki/Nix_ecosystem">Nix Core Ecosystem</a>, Nix, NixOS,
Nix Lang, Nixpkgs are all distinctly different; related things which can be
confusing for beginners this article explains them.</p>
</li>
<li>
<p><a href="https://github.com/nixos/nixpkgs">nixpkgs</a>: Vast package repository</p>
</li>
<li>
<p><a href="https://nixos.org/guides/how-nix-works/">How Nix Works</a></p>
</li>
<li>
<p><a href="https://nix.dev/manual/nix/2.26/language/types#type-attrs">Nix Reference Manual Data Types</a>
The main Data Types you'll come across in the Nix ecosystem</p>
</li>
<li>
<p><a href="https://wiki.nixos.org/wiki/NixOS_Wiki">NixOS Wiki</a></p>
</li>
<li>
<p><a href="https://nix.dev/">nix.dev</a>: Has become the top respected source of information
in my opinion. There is a lot of great stuff in here, and they actively update
the information.</p>
</li>
</ul>
<blockquote>
<p>❗ If you're new to Nix, think of it as a recipe book for software: you
describe what you want (declarative), and Nix ensures it’s built the same way
every time (reproducible).</p>
</blockquote>
<h2 id="why-learn-nix"><a class="header" href="#why-learn-nix">Why Learn Nix?</a></h2>
<p>The main reason to learn Nix is that it allows you to write declarative scripts
for reproducible software builds. Rather than mutate the global state and install
packages to a global location such as <code>/usr/bin</code> Nix stores packages in the Nix
store, usually the directory <code>/nix/store</code>, where each package has its own unique
subdirectory. This paradigm gives you some power features,
such as:</p>
<ul>
<li>
<p>Allowing multiple versions or variants of the same package at the same time.
This prevents "DLL hell" from different applications having dependencies on
different versions of the same package. They end up in different paths in the
Nix store preventing interferance with each other.</p>
</li>
<li>
<p>Atomic upgrades: Upgrading or uninstalling an application cannot break other
applications and either succeed completely or fail completely preventing
partial upgrades breaking your system. The nix store is immutable preventing
package management operations from overwriting other packages. They wouldn't
overwrite each other anyways because the hashing scheme ensures that new
versions or repeat packages end up at different paths.</p>
</li>
<li>
<p>Nix tries hard to provide hermetic builds that aren't affected by the environment
this helps you make sure that when packaging software that the dependencies
are complete because they must be explicitly declared as inputs. With other
package managers it is more difficult to be sure that an environment variable
or something in your <code>$PATH</code> isn't affecting your build.</p>
</li>
</ul>
<p>Let’s dive into the key characteristics of Nix:</p>
<div class="table-wrapper"><table><thead><tr><th>Concept</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>Pure</strong></td><td>Functions don't cause side effects.</td></tr>
<tr><td><strong>Functional</strong></td><td>Functions can be passed as arguments and returned as results.</td></tr>
<tr><td><strong>Lazy</strong></td><td>Not evaluated until needed to complete a computation.</td></tr>
<tr><td><strong>Declarative</strong></td><td>Describing a system outcome.</td></tr>
<tr><td><strong>Reproducible</strong></td><td>Operations that are performed twice return same results</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❗ Important: In Nix, everything is an expression, there are no statements.</p>
<p>❗ Important: Values in Nix are immutable.</p>
</blockquote>
<h2 id="how-it-fits-together"><a class="header" href="#how-it-fits-together">How it Fits Together</a></h2>
<ul>
<li>The <strong>Nix Language</strong> is the foundation of the ecosystem and is used to write
<strong>Nix Expressions</strong>.</li>
</ul>
<p>Example of a simple nix expression:</p>
<pre><code class="language-nix">{ hello = "world"; }
# or
1 + 2
</code></pre>
<ul>
<li>
<p><strong>Package Definitions</strong>: Specialized expressions that tell Nix how to build
software.</p>
</li>
<li>
<p><strong>Derivations</strong>: The result of evaluating a package definition is a
derivation. Derivations are immutable, precise blueprints that Nix uses to
perform a build. These unique derivations (and their outputs) reside in the
nix store.</p>
</li>
<li>
<p>The <strong>Nix Package Manager</strong>: is the engine that takes these Nix expressions
(like package definitions), evaluates them into derivations, builds them, and
manages the Nix store.</p>
<ul>
<li><code>nixpkgs</code>: a set of thousands of packages for the Nix package manager. Nix
expressions describe how to build packages from source and are collected
in the <a href="https://github.com/NixOS/nixpkgs">nixpkgs repository</a>. NixOS modules
are also included in the nixpkgs repo.</li>
</ul>
</li>
<li>
<p><strong>NixOS</strong>: is based on Nix, a purely functional package management system.
NixOS is what you get when you use Nix to build a linux system.</p>
</li>
<li>
<p><strong>NixOS Modules</strong> are also Nix expressions, often functions that define
system configurations, leveraging package definitions and derivations. They
often take the current state of the world and return things to change it.</p>
</li>
<li>
<p>One of the main ways Nix is different is the idea that package builds are
functions.</p>
</li>
<li>
<p>I got the following image from <a href="https://xeiaso.net/talks/asg-2023-nixos/">this</a>
blog post.</p>
</li>
</ul>
<p><img src="images/nix_isnot_nixos.png" alt="Nix is not" /></p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>As we have now seen, the Nix ecosystem is vast and each aspect fits together and
builds upon the last. The Nix Language is used to write expressions that are
usually functions that describe how a package is to be built. The expressions
are evaluated and realised into derivations.</p>
<p>In the next chapter,
<a href="https://saylesss88.github.io/Understanding_Nix_Functions_2.html">Understanding Nix Functions</a>
we will peel back the layers and explore the intricacies of function arguments,
advanced patterns, scope, and how functions play a crucial role in building more
sophisticated Nix expressions and derivations.</p>
<p>Here are some resources that I found helpful when learning the Nix Language.</p>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<details>
<summary> ✔️ Resources (Click to Expand)</summary>
<ul>
<li>
<p><a href="https://nix.dev/tutorials/nix-language.html">nix.dev nixlang-basics</a></p>
</li>
<li>
<p><a href="https://learnxinyminutes.com/nix/">learn nix in y minutes</a></p>
</li>
<li>
<p><a href="https://github.com/tazjin/nix-1p">nix onepager</a></p>
</li>
<li>
<p><a href="https://github.com/nix-community/awesome-nix">awesome-nix</a></p>
</li>
<li>
<p><a href="https://zero-to-nix.com/concepts/nix-language/">zero-to-nix nix lang</a></p>
</li>
<li>
<p><a href="https://nixos.org/guides/nix-pills/04-basics-of-language.html">nix-pills basics of nixlang</a></p>
</li>
</ul>
</details>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="nix/nix_language.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="nix/nix_language.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
