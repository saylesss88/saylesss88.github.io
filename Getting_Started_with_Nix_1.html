<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting Started with the Nix Ecosystem - nix-book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-9dfbd86b.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/extra-c3f37c9a.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-2e054b37.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-2308c437.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">nix-book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <hr>
<h2 id="title-my-chapter-date-2025-11-21-author-saylesss88-description-chapter-1"><a class="header" href="#title-my-chapter-date-2025-11-21-author-saylesss88-description-chapter-1">title: My Chapter
date: 2025-11-21
author: saylesss88
description: Chapter 1</a></h2>
<h1 id="chapter1"><a class="header" href="#chapter1">Chapter1</a></h1>
<details>
<summary> ✔️ Click to Expand Table of Contents</summary>
<!-- toc -->
</details>
<!-- ![gruv13](images/gruv13.png) -->
<p><img src="images/trees1.cleaned.png" alt="trees"></p>
<h2 id="intro"><a class="header" href="#intro">Intro</a></h2>
<p>Welcome to <em>nix-book</em>, an introductory book about Nix. This book leans more
towards using Flakes but will contrast traditional Nix where beneficial.
Originally, this content started as a blog. I’m refining its flow to make it
more cohesive.</p>
<p>In this chapter, I will touch on the different parts of the Nix ecosystem, give
a quick example of each and explain how they fit together.</p>
<details>
<summary>
- ✔️: Will indicate an expandable section, click the little triangle to expand.
</summary>
<ul>
<li>These sections are expandable!</li>
</ul>
</details>
<p>The code blocks have an option to hide code, where I find it reasonable I will
hide the outputs of the expressions. Click the eye in the right corner of the
code block next to the copy clipboard.</p>
<p>Example click the eye to see hidden text:</p>
<pre><code class="language-nix">{
  attrset = { a = 2; b = 4; };
~  hidden_set = { a = hidden; b = set; };
}
</code></pre>
<blockquote>
<p>❗ If you’re new to Nix, think of it as a recipe book for software: you
describe what you want (declarative), and Nix ensures it’s built the same way
every time (reproducible).</p>
</blockquote>
<h3 id="why-learn-nix"><a class="header" href="#why-learn-nix">Why Learn Nix?</a></h3>
<p>The main reason to learn Nix is that it allows you to write declarative scripts
for reproducible software builds. Rather than mutate the global state and
install packages to a global location such as <code>/usr/bin</code> Nix stores packages in
the Nix store, usually the directory <code>/nix/store</code>, where each package has its
own unique subdirectory. This paradigm gives you some powerful features, such
as:</p>
<ul>
<li>
<p>Allowing multiple versions or variants of the same package at the same time.
This prevents “DLL hell” from different applications having dependencies on
different versions of the same package.</p>
</li>
<li>
<p>Atomic upgrades: Upgrading or uninstalling an application cannot break other
applications and either succeed completely or fail completely preventing
partial upgrades breaking your system. The nix store is immutable preventing
package management operations from overwriting other packages. They wouldn’t
overwrite each other anyways because the hashing scheme ensures that new
versions or repeat packages end up at different paths.</p>
</li>
<li>
<p>Nix is designed to provide hermetic builds that aren’t affected by the
environment, this helps you make sure that when packaging software that the
dependencies are complete because they must be explicitly declared as inputs.
With other package managers it is more difficult to be sure that an
environment variable or something in your <code>$PATH</code> isn’t affecting your build.</p>
</li>
</ul>
<p>Let’s dive into the key characteristics of Nix:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Concept</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><strong>Pure</strong></td><td>Functions don’t cause side effects.</td></tr>
<tr><td><strong>Functional</strong></td><td>Functions can be passed as arguments and returned as results.</td></tr>
<tr><td><strong>Lazy</strong></td><td>Not evaluated until needed to complete a computation.</td></tr>
<tr><td><strong>Declarative</strong></td><td>Describing a system outcome.</td></tr>
<tr><td><strong>Reproducible</strong></td><td>Operations that are performed twice return same results</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p>❗ Important: In Nix, everything is an expression, there are no statements.</p>
<p>❗ Important: Values in Nix are immutable.</p>
</blockquote>
<h3 id="the-nix-ecosystem"><a class="header" href="#the-nix-ecosystem">The Nix Ecosystem</a></h3>
<p>The <strong>Nix Language</strong> is the foundation of the ecosystem and is used to write
<strong>Nix Expressions</strong>.</p>
<p>Example of a simple nix expression:</p>
<pre><code class="language-nix">{ hello = "world"; }
# or
"foo" + "bar"
</code></pre>
<p>While the Nix language provides the foundation for writing expressions, it is
only part of the ecosystem. These expressions become powerful when used within
the Nix Package Manager, which evaluates and realizes them into tangible
software builds and system configurations. This is where Nixpkgs and NixOS come
into play.</p>
<h3 id="the-nix-package-manager-nixpkgs-and-nixos"><a class="header" href="#the-nix-package-manager-nixpkgs-and-nixos">The Nix Package Manager, Nixpkgs, and NixOS</a></h3>
<p>At the heart of the Nix ecosystem is <strong>Nix Package Manager</strong>. This powerful
engine is responsible for orchestrating the entire process: taking <strong>Nix
expressions</strong> (like <em>package definitions</em> and <em>configuration modules</em>),
evaluating them into precise <em>derivations</em>, executing their build steps (the
<em>realization phase</em>), and meticulously managing the immutable Nix store.</p>
<p>A cornerstone of the Nix ecosystem is <strong>Nixpkgs</strong>. This vast collection
comprises tens of thousands of Nix expressions that describe how to build a wide
array of software packages from source. Nixpkgs is more than just a package
repository—it also contains <strong>NixOS Modules</strong>, declarative configurations that
define system behavior, ensuring a structured and reproducible environment.
These modules enable users to declaratively describe a Linux system, with each
module contributing to the desired state of the overall system by leveraging
<em>package definitions</em> and <em>derivations</em>. This is how NixOS emerges: it is quite
simply the natural consequence of applying the Nix philosophy to building an
entire Linux operating system.</p>
<p>We will further expand our understanding of modules in
<a href="https://saylesss88.github.io/NixOS_Modules_Explained_3.html">Chapter 3</a></p>
<p>The following is an example of a NixOS module that is part of the <code>nixpkgs</code>
collection:</p>
<pre><code class="language-nix"># nixpkgs/nixos/modules/programs/zmap.nix
{
  pkgs,
  config,
  lib,
  ...
}:

let
  cfg = config.programs.zmap;
in
{
  options.programs.zmap = {
    enable = lib.mkEnableOption "ZMap, a network scanner designed for Internet-wide network surveys";
  };

  config = lib.mkIf cfg.enable {
    environment.systemPackages = [ pkgs.zmap ];

    environment.etc."zmap/blacklist.conf".source = "${pkgs.zmap}/etc/zmap/blacklist.conf";
    environment.etc."zmap/zmap.conf".source = "${pkgs.zmap}/etc/zmap.conf";
  };
}
</code></pre>
<ul>
<li>This module, <code>programs.zmap.nix</code>, demonstrates how NixOS configurations work.
It defines an enable option for the ZMap network scanner. If enabled by the
user in their system configuration, the module ensures the <code>zmap</code> package is
installed and its default configuration files are placed in <code>/etc</code>, allowing
ZMap to be managed declaratively as part of the operating system.
<ul>
<li>
<p>When <code>nixpkgs</code> is imported (e.g., in a NixOS configuration), the
configuration options and settings defined by its modules (like
<code>programs.zmap.nix</code>) become available for use, typically accessed via dot
notation (e.g., <code>config.programs.zmap.enable</code>). This ability to make such a
huge set of modules and packages readily available without a significant
performance penalty is due to Nix’s <strong>lazy evaluation</strong>; only the
expressions required for a particular build or configuration are actually
evaluated.</p>
</li>
<li>
<p>Most of the time you’ll simply <a href="https://search.nixos.org/packages">search</a>
to see if the package is already included in <code>nixpkgs</code> and follow the
instructions there to get it on your system. It is good practice to first
search for the <a href="https://search.nixos.org/options?">options</a> to see what
configurable settings are available, and then proceed to search for the
package itself if you know it exists or if you need its specific package
definition. When you look up the options for Zmap, <code>programs.zmap.enable</code> is
all that is listed in this example.</p>
</li>
<li>
<p>Home Manager uses the same underlying Nix module system as NixOS, and when
you do something like home.packages = with pkgs; you are referring to the
same package derivations from nixpkgs as you would with
<code>environment.systemPackages</code>. However, Home Manager’s own configuration
modules (e.g., for <code>programs.zsh</code> or <code>git</code>) are distinct and reside in the
Home Manager repository, designed for user-specific configurations.</p>
</li>
</ul>
</li>
</ul>
<p>One of the main differentiating aspects of Nix, as opposed to traditional
package managers, is this concept that package builds are treated as pure
functions. This functional paradigm ensures consistency and reproducibility,
which are core tenets of the Nix philosophy.</p>
<p><img src="images/nix_isnot_nixos.png" alt="Nix is not"></p>
<p><strong>Fig. X:</strong> Conceptual diagram illustrating the distinction between Nix and
NixOS. Source: xeiaso, from the blog post “Making NixOS modules for fun and
(hopefully) profit”, <a href="https://xeiaso.net/talks/asg-2023-nixos/">https://xeiaso.net/talks/asg-2023-nixos/</a>.</p>
<p>Nix expressions permeate the ecosystem—everything in Nix is an expression,
including the next key components: package definitions and derivations.</p>
<h3 id="package-definitions--derivations"><a class="header" href="#package-definitions--derivations">Package Definitions &amp; Derivations</a></h3>
<p><strong>Package Definitions</strong> are specialized expressions that tell Nix how to build
software.</p>
<p>Example of a package definition:</p>
<pre><code class="language-nix"># hello.nix
{pkgs ? import &lt;nixpkgs&gt; {}}:
pkgs.stdenv.mkDerivation {
  pname = "hello";
  version = "2.12.1";

  src = pkgs.fetchurl {
    url = "https://ftp.gnu.org/gnu/hello/hello-2.12.1.tar.gz";
    sha256 = "086vqwk2wl8zfs47sq2xpjc9k066ilmb8z6dn0q6ymwjzlm196cd";
  };

  nativeBuildInputs = [pkgs.autoconf pkgs.automake pkgs.gcc];

  configurePhase = ''
    ./configure --prefix=$out
  '';

  buildPhase = ''
    make
  '';

  installPhase = ''
    make install
  '';
}
</code></pre>
<ol>
<li><strong>Evaluation Phase</strong>:</li>
</ol>
<p>Now when you run something like:</p>
<pre><code class="language-bash">nix-instantiate hello.nix
warning: you did not specify '--add-root'; the result might be removed by the garbage collector
/nix/store/p2hbg16a9kpqgx2nzcsq39wmnyxyq4jy-hello-2.12.1.drv
</code></pre>
<ul>
<li>Nix evaluates the expression and produces a <code>.drv</code> file (the <strong>derivation</strong>),
a precise JSON-like blueprint describing how the package will be built. It
does not contain the built software itself.</li>
</ul>
<ol start="2">
<li><strong>Realization Phase</strong>:</li>
</ol>
<p>When you run:</p>
<pre><code class="language-bash">nix-build hello.nix
#...snip...
shrinking RPATHs of ELF executables and libraries in /nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1
shrinking /nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1/bin/hello
checking for references to /build/ in /nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1...
gzipping man pages under /nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1/share/man/
patching script interpreter paths in /nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1
stripping (with command strip and flags -S -p) in  /nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1/bin
/nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1
</code></pre>
<ul>
<li>
<p>Nix realizes the derivation by actually executing the build steps, fetching
sources, compiling (if needed), and producing the final result (typically
stored in e.g. <code>/nix/store/53hqyw72dijq3wb5kc0ln04g681gk6cp-hello-2.12.1</code>)</p>
</li>
<li>
<p><code>nix-build</code> also creates a symlink named <code>result</code> in your current directory,
pointing to the final build output in the Nix store.</p>
</li>
</ul>
<ol start="3">
<li>Execute the program:</li>
</ol>
<pre><code class="language-bash">./result/bin/hello
Hello, world!
</code></pre>
<p><code>result/bin/hello</code> points to the executable inside the output of the
derivation.The derivation describes how the package is built, but does not
include the final binaries.</p>
<p>To say that another way, the derivation is not the executable. The executable is
one of the derivations <code>outputs</code>. When Nix “realizes” a derivation, it executes
those build instructions, and the result is the actual built software, which
gets placed into its own unique path in the Nix store.</p>
<p>A single derivation can produce multiple outputs. The executable is typically
part of the <code>out</code> output, specifically in its <code>bin</code> directory.</p>
<p>Here is a small snippet of what a <code>.drv</code> file could look like, I got this from
building the hello derivation and running the following on the store path:</p>
<pre><code class="language-bash">nix show-derivation /nix/store/9na8mwp5zaprikqaqw78v6cdn1rxac7i-hello-2.12.1
</code></pre>
<pre><code class="language-nix">{
  "/nix/store/871398c9cbskmzy6bvfnynr8yrlh7nk0-hello-2.12.1.drv": {
    "args": [
      "-e",
      "/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh"
    ],
    "builder": "/nix/store/1jzhbwq5rjjaqa75z88ws2b424vh7m53-bash-5.2p32/bin/bash",
    "env": {
      "__structuredAttrs": "",
      "buildInputs": "",
      "builder": "/nix/store/1jzhbwq5rjjaqa75z88ws2b424vh7m53-bash-5.2p32/bin/bash",
      "cmakeFlags": "",
      "configureFlags": "",
      "depsBuildBuild": "",
      "depsBuildBuildPropagated": "",
      "depsBuildTarget": "",
      "depsBuildTargetPropagated": "",
      "depsHostHost": "",
      "depsHostHostPropagated": "",
      "depsTargetTarget": "",
      "depsTargetTargetPropagated": "",
      "doCheck": "",
      "doInstallCheck": "",
      "mesonFlags": "",
      "name": "hello-2.12.1",
      "nativeBuildInputs": "",
      "out": "/nix/store/9na8mwp5zaprikqaqw78v6cdn1rxac7i-hello-2.12.1",
      "outputs": "out",
      "patches": "",
      "pname": "hello",
      "propagatedBuildInputs": "",
      "propagatedNativeBuildInputs": "",
      "src": "/nix/store/pa10z4ngm0g83kx9mssrqzz30s84vq7k-hello-2.12.1.tar.gz",
      "stdenv": "/nix/store/80wijs24wjp619zmrasrh805bax02xjm-stdenv-linux",
      "strictDeps": "",
      "system": "x86_64-linux",
      "version": "2.12.1"
    },
# ... snip ...
</code></pre>
<h4 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h4>
<p>In this introductory chapter, we’ve laid the groundwork for understanding the
powerful Nix ecosystem. We explored how the Nix Language forms the declarative
bedrock, enabling us to define desired system states and software builds as
expressions. You saw how the Nix Package Manager orchestrates this process,
transforming those expressions into precise derivations during the evaluation
phase, and then faithfully “realizing” them into reproducible, isolated
artifacts within the immutable <code>/nix/store</code>.</p>
<p>We also introduced the vast Nixpkgs collection, which provides tens of thousands
of package definitions and forms the foundation for NixOS — a fully declarative
operating system built on these principles—and even user-level configurations
like those managed by Home Manager. This unique functional approach, with its
emphasis on immutability and lazy evaluation, is what enables Nix’s promises of
consistency, atomic upgrades, and truly hermetic builds, fundamentally changing
how we think about software and system management.</p>
<h5 id="related-sub-chapters"><a class="header" href="#related-sub-chapters">Related Sub-Chapters</a></h5>
<ul>
<li>
<p>The <a href="https://saylesss88.github.io/nix/nix_language.html">Nix Language</a></p>
</li>
<li>
<p><a href="https://saylesss88.github.io/nix/nix_package_manager.html">Nix Package Manager</a></p>
</li>
</ul>
<p>Now that you have a foundational understanding of the Nix ecosystem and its core
operational cycle, we are ready to delve deeper into the building blocks of Nix
expressions. In the next chapter,
<a href="https://saylesss88.github.io/Understanding_Nix_Functions_2.html">Understanding Nix Functions</a>,
we will peel back the layers and explore the intricacies of function arguments,
advanced patterns, scope, and how functions play a crucial role in building more
sophisticated Nix expressions and derivations.</p>
<p>Here are some resources that are helpful for getting started:</p>
<h4 id="resources"><a class="header" href="#resources">Resources</a></h4>
<details>
<summary> ✔️ Resources (Click to Expand)</summary>
<ul>
<li>
<p><a href="https://search.nixos.org/packages">NixOS Search</a></p>
</li>
<li>
<p><a href="https://search.nixos.org/options?">NixOS Options</a></p>
</li>
<li>
<p><a href="https://home-manager-options.extranix.com/?query=&amp;release=master">Extranix Home-Manager Option Search</a></p>
</li>
<li>
<p><a href="https://github.com/nix-community/awesome-nix">awesome-nix</a></p>
</li>
<li>
<p><a href="https://wiki.nixos.org/wiki/Nix_ecosystem">Nix Core Ecosystem</a>, Nix, NixOS,
Nix Lang, Nixpkgs are all distinctly different; related things which can be
confusing for beginners this article explains them.</p>
</li>
<li>
<p><a href="https://github.com/nixos/nixpkgs">nixpkgs</a>: Vast package repository</p>
</li>
<li>
<p><a href="https://nixos.org/guides/how-nix-works/">How Nix Works</a></p>
</li>
<li>
<p><a href="https://nix.dev/manual/nix/2.26/language/types#type-attrs">Nix Reference Manual Data Types</a>
The main Data Types you’ll come across in the Nix ecosystem</p>
</li>
<li>
<p><a href="https://wiki.nixos.org/wiki/NixOS_Wiki">NixOS Wiki</a></p>
</li>
<li>
<p><a href="https://nix.dev/">nix.dev</a>: Has become the top respected source of
information in my opinion. There is a lot of great stuff in here, and they
actively update the information.</p>
</li>
</ul>
</details>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="nix/nix_language.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="nix/nix_language.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/extra-e0f03105.js"></script>



    </div>
    </body>
</html>
