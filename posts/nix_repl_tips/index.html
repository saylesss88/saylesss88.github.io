<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Nix_repl_tips | NixOS Blog</title>
<link rel=icon href=favicon.svg sizes=any type=image/svg+xml><meta property="og:url" content="https://saylesss88.github.io/posts/nix_repl_tips/"><meta property="og:site_name" content="NixOS Blog"><meta property="og:title" content="Nix_repl_tips"><meta property="og:description" content="Nix Repl List available commands TOC
Nix Repl List available commands Load Nix expressions Directly Load Flakes Debugging with a Flake REPL output Usage Debugging List available commands with :?:
nix repl Nix 2.24.11 Type :? for help. nix-repl> :? The following commands are available: <expr> Evaluate and print expression <x> = <expr> Bind expression to variable :a, :add <expr> Add attributes from resulting set to scope :b <expr> Build a derivation :bl <expr> Build a derivation, creating GC roots in the working directory :e, :edit <expr> Open package or function in $EDITOR :i <expr> Build derivation, then install result into current profile :l, :load <path> Load Nix expression and add it to scope :lf, :load-flake <ref> Load Nix flake and add it to scope :p, :print <expr> Evaluate and print expression recursively Strings are printed directly, without escaping. :q, :quit Exit nix-repl :r, :reload Reload all files :sh <expr> Build dependencies of derivation, then start nix-shell :t <expr> Describe result of evaluation :u <expr> Build derivation, then start nix-shell :doc <expr> Show documentation of a builtin function :log <expr> Show logs for a derivation :te, :trace-enable [bool] Enable, disable or toggle showing traces for errors :?, :help Brings up this help menu Load Nix expressions Directly You can quickly evaluate a random Nix expression:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-14T19:18:13-04:00"><meta property="article:modified_time" content="2025-05-14T19:18:13-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Nix_repl_tips"><meta name=twitter:description content="Nix Repl List available commands TOC
Nix Repl List available commands Load Nix expressions Directly Load Flakes Debugging with a Flake REPL output Usage Debugging List available commands with :?:
nix repl Nix 2.24.11 Type :? for help. nix-repl> :? The following commands are available: <expr> Evaluate and print expression <x> = <expr> Bind expression to variable :a, :add <expr> Add attributes from resulting set to scope :b <expr> Build a derivation :bl <expr> Build a derivation, creating GC roots in the working directory :e, :edit <expr> Open package or function in $EDITOR :i <expr> Build derivation, then install result into current profile :l, :load <path> Load Nix expression and add it to scope :lf, :load-flake <ref> Load Nix flake and add it to scope :p, :print <expr> Evaluate and print expression recursively Strings are printed directly, without escaping. :q, :quit Exit nix-repl :r, :reload Reload all files :sh <expr> Build dependencies of derivation, then start nix-shell :t <expr> Describe result of evaluation :u <expr> Build derivation, then start nix-shell :doc <expr> Show documentation of a builtin function :log <expr> Show logs for a derivation :te, :trace-enable [bool] Enable, disable or toggle showing traces for errors :?, :help Brings up this help menu Load Nix expressions Directly You can quickly evaluate a random Nix expression:"><link rel=stylesheet href=/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H+ZeT/jBpieRZ8=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.e139b0e3b3aff8f0e8e0272554b671a06c857a42278b36c539d96c69ddee2ca2.css integrity="sha256-4Tmw47Ov+PDo4CclVLZxoGyFekInizbFOdlsad3uLKI=" crossorigin=anonymous><script src=/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.eaf3e66e7b10bb4091acadce3f1ac190f712f8b31c47e8c19ce87629018bbaa0.js integrity="sha256-6vPmbnsQu0CRrK3OPxrBkPcS+LMcR+jBnOh2KQGLuqA="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://saylesss88.github.io/ style=color:inherit>NixOS Blog</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div></div></div><a href=https://saylesss88.github.io//index.xml><img src=/images/rss.png alt="RSS Feed" width=24>
</a><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg class="dark-icon" viewBox="0 0 24 24" fill="none"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://saylesss88.github.io/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://saylesss88.github.io/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>Nix_repl_tips</h1><time class=dim datetime=2025-05-14T19:18:13-04:00>May 14, 2025</time></div><section class=page-section><h1 id=nix-repl-list-available-commands>Nix Repl List available commands</h1><p><strong>TOC</strong></p><ul><li><a href=#nix-repl-list-available-commands>Nix Repl List available commands</a><ul><li><a href=#load-nix-expressions-directly>Load Nix expressions Directly</a><ul><li><a href=#load-flakes>Load Flakes</a></li></ul></li><li><a href=#debugging-with-a-flake-repl-output>Debugging with a Flake REPL output</a><ul><li><a href=#usage>Usage</a></li><li><a href=#debugging>Debugging</a></li></ul></li></ul></li></ul><figure><img src=/images/gruv11.png alt=gruv11 width=1000></figure><p>List available commands with <code>:?</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl
</span></span><span style=display:flex><span>Nix <span style=color:#ae81ff>2</span><span style=color:#ae81ff>.24.11</span>
</span></span><span style=display:flex><span>Type :<span style=color:#f92672>?</span> for help<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> :<span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>The following commands are available:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&lt;expr&gt;</span>                       Evaluate and print expression
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&lt;x&gt;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&lt;expr&gt;</span>                 Bind expression to variable
</span></span><span style=display:flex><span>  :a<span style=color:#960050;background-color:#1e0010>,</span> :add <span style=color:#e6db74>&lt;expr&gt;</span>              Add attributes from resulting set to scope
</span></span><span style=display:flex><span>  :b <span style=color:#e6db74>&lt;expr&gt;</span>                    Build a derivation
</span></span><span style=display:flex><span>  :bl <span style=color:#e6db74>&lt;expr&gt;</span>                   Build a derivation<span style=color:#960050;background-color:#1e0010>,</span> creating GC roots in the
</span></span><span style=display:flex><span>                               working directory
</span></span><span style=display:flex><span>  :e<span style=color:#960050;background-color:#1e0010>,</span> :edit <span style=color:#e6db74>&lt;expr&gt;</span>             Open package or function in <span style=color:#960050;background-color:#1e0010>$</span>EDITOR
</span></span><span style=display:flex><span>  :i <span style=color:#e6db74>&lt;expr&gt;</span>                    Build derivation<span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#66d9ef>then</span> install result into
</span></span><span style=display:flex><span>                               current profile
</span></span><span style=display:flex><span>  :l<span style=color:#960050;background-color:#1e0010>,</span> :load <span style=color:#e6db74>&lt;path&gt;</span>             Load Nix expression and add it to scope
</span></span><span style=display:flex><span>  :lf<span style=color:#960050;background-color:#1e0010>,</span> :load-flake <span style=color:#e6db74>&lt;ref&gt;</span>       Load Nix flake and add it to scope
</span></span><span style=display:flex><span>  :p<span style=color:#960050;background-color:#1e0010>,</span> :print <span style=color:#e6db74>&lt;expr&gt;</span>            Evaluate and print expression recursively
</span></span><span style=display:flex><span>                               Strings are printed directly<span style=color:#960050;background-color:#1e0010>,</span> without escaping<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  :q<span style=color:#960050;background-color:#1e0010>,</span> :quit                    Exit nix-repl
</span></span><span style=display:flex><span>  :r<span style=color:#960050;background-color:#1e0010>,</span> :reload                  Reload all files
</span></span><span style=display:flex><span>  :sh <span style=color:#e6db74>&lt;expr&gt;</span>                   Build dependencies of derivation<span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#66d9ef>then</span> start
</span></span><span style=display:flex><span>                               nix-shell
</span></span><span style=display:flex><span>  :t <span style=color:#e6db74>&lt;expr&gt;</span>                    Describe result of evaluation
</span></span><span style=display:flex><span>  :u <span style=color:#e6db74>&lt;expr&gt;</span>                    Build derivation<span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#66d9ef>then</span> start nix-shell
</span></span><span style=display:flex><span>  :doc <span style=color:#e6db74>&lt;expr&gt;</span>                  Show documentation of a builtin function
</span></span><span style=display:flex><span>  :log <span style=color:#e6db74>&lt;expr&gt;</span>                  Show logs for a derivation
</span></span><span style=display:flex><span>  :te<span style=color:#960050;background-color:#1e0010>,</span> :trace-enable [bool]    Enable<span style=color:#960050;background-color:#1e0010>,</span> disable or toggle showing traces for
</span></span><span style=display:flex><span>                               errors
</span></span><span style=display:flex><span>  :<span style=color:#f92672>?</span><span style=color:#960050;background-color:#1e0010>,</span> :help                    Brings up this help menu
</span></span></code></pre></div><h2 id=load-nix-expressions-directly>Load Nix expressions Directly</h2><p>You can quickly evaluate a random Nix expression:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl <span style=color:#960050;background-color:#1e0010>--</span>expr <span style=color:#960050;background-color:#1e0010>&#39;</span>{a <span style=color:#f92672>=</span> { b <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>; c <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>; }; }<span style=color:#960050;background-color:#1e0010>&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Welcome to Nix <span style=color:#ae81ff>2</span><span style=color:#ae81ff>.11.0</span><span style=color:#f92672>.</span> Type :<span style=color:#f92672>?</span> for help<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Loading installable <span style=color:#e6db74>&#39;&#39;...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Added 1 variables.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>nix-repl&gt; a
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{ b = 3; c = 4; }
</span></span></span></code></pre></div><ul><li>The <code>--expr</code> flag is helpful to prime directly the Nix REPL with valuable data
or values.</li></ul><h3 id=load-flakes>Load Flakes</h3><p>We can use the <code>--expr</code> flag to load a random Nix Flake directly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl <span style=color:#960050;background-color:#1e0010>--</span>expr <span style=color:#960050;background-color:#1e0010>&#39;</span>builtins<span style=color:#f92672>.</span>getFlake <span style=color:#e6db74>&#34;github:nix-community/ethereum.nix&#34;</span><span style=color:#960050;background-color:#1e0010>&#39;</span>
</span></span></code></pre></div><p>Also, you can load a flake directly inside the REPL with <code>:load-flake</code> or <code>:lf</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> :lf <span style=color:#e6db74>github:nix-community/home-manager</span>
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> :lf <span style=color:#e6db74>/path/to/your/flake</span>
</span></span></code></pre></div><h2 id=debugging-with-a-flake-repl-output>Debugging with a Flake REPL output</h2><ul><li>One way to do this is to launch the repl with <code>nix repl</code> and inside the repl type <code>:lf /path/to/flake</code>. Or <code>nixos-rebuild repl --flake /path/to/flake</code> the latter provides a helpful welcome script showing what is loaded into your repl&rsquo;s scope.</li></ul><p>I like to create a simple repl output to load your flake into the environment with <code>nix repl .#repl</code>.</p><p>First, we&rsquo;ll create a REPL environment to inspect and debug our flake&rsquo;s outputs,packages, and configurations. Define a <code>repl</code> output in <code>flake.nix</code> for easy access with <code>nix repl .#repl</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span><span style=color:#75715e># flake.nix</span>
</span></span><span style=display:flex><span>outputs <span style=color:#f92672>=</span> { self<span style=color:#f92672>,</span> nixpkgs<span style=color:#f92672>,</span> <span style=color:#f92672>...</span> }: <span style=color:#66d9ef>let</span>
</span></span><span style=display:flex><span>  pkgs <span style=color:#f92672>=</span> <span style=color:#f92672>import</span> nixpkgs { system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64-linux&#34;</span>; };
</span></span><span style=display:flex><span><span style=color:#66d9ef>in</span> {
</span></span><span style=display:flex><span>  repl <span style=color:#f92672>=</span> <span style=color:#f92672>import</span> <span style=color:#e6db74>./repl.nix</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>inherit</span> (pkgs) lib;
</span></span><span style=display:flex><span>    flake <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    pkgs <span style=color:#f92672>=</span> pkgs;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>And in <code>repl.nix</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span><span style=color:#75715e># repl.nix</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  lib<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>  flake<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>  pkgs<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>}: {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>inherit</span> flake pkgs lib;
</span></span><span style=display:flex><span>  configs <span style=color:#f92672>=</span> flake<span style=color:#f92672>.</span>nixosConfigurations;
</span></span><span style=display:flex><span>  <span style=color:#75715e># inherit (flake.outputs) userVars;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e># Accepts `lib`, `flake`, `pkgs` from `flake.nix` as arguments</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Attributes: flake: all flake outputs (flake.outputs, flake.inputs)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># run `nix repl .#repl` to load the REPL environment</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :l &lt;nixpkgs&gt;  # load additional Nixpkgs if needed</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p flake.inputs.nixpkgs.rev # nixpkgs revision</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p flake.inputs.home-manager.rev</span>
</span></span><span style=display:flex><span><span style=color:#75715e># flake.outputs.packages.x86_64-linux.default # inspect default package</span>
</span></span><span style=display:flex><span><span style=color:#75715e># pkgs.helix # access helix package</span>
</span></span><span style=display:flex><span><span style=color:#75715e># lib.version # check lib version</span>
</span></span><span style=display:flex><span><span style=color:#75715e># configs.magic.config.environment.systemPackages # list packages</span>
</span></span><span style=display:flex><span><span style=color:#75715e># configs.magic.config.home-manager.users.jr.home.packages # home packages</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.home-manager.users.jr.programs.git.userName</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Debugging</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p builtins.typeOf configs.magic (should be `set`)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p builtins.attrNames configs.magic</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config # errors indicate issues</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.environment # isolate the module or issue</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p builtins.attrNames configs.magic.config.home-manager.users.jr # home attrs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.home-manager.users.jr.programs.git.enable # true/false</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  :p lib.filterAttrs (n: v: lib.hasPrefix &#34;firefox&#34; n) pkgs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.stylix # check theming</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.home-manager.users.jr.stylix</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p lib.mapAttrsToList (name: cfg: name) configs</span>
</span></span></code></pre></div><blockquote><p>❗: Replace <code>magic</code> with your host name</p></blockquote><h3 id=usage>Usage</h3><p>Load REPL environment with:
<code>nix repl .#repl</code></p><p>Attributes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> builtins<span style=color:#f92672>.</span>attrNames flake<span style=color:#f92672>.</span>inputs
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;dont-track-me&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;helix&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;home-manager&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;hyprland&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;neovim-nightly-overlay&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;nixpkgs&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;nvf&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;rose-pine-hyprcursor&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;stylix&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;treefmt-nix&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;wallpapers&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;wezterm&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;yazi&#34;</span>
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> builtins<span style=color:#f92672>.</span>attrNames flake<span style=color:#f92672>.</span>outputs
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;checks&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;devShells&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;formatter&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;nixosConfigurations&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;packages&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;repl&#34;</span>
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> flake<span style=color:#f92672>.</span>outputs<span style=color:#f92672>.</span>formatter
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  x86_64-linux <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>«</span>derivation <span style=color:#e6db74>/nix/store/q71q00wmh1gnjzdrw5nrvwbr6k414036-treefmt.drv</span><span style=color:#960050;background-color:#1e0010>»</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Inspect the default package output:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> flake<span style=color:#f92672>.</span>outputs<span style=color:#f92672>.</span>packages<span style=color:#f92672>.</span>x86_64-linux<span style=color:#f92672>.</span>default
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>«</span>derivation <span style=color:#e6db74>/nix/store/6kp660mm62saryskpa1f2p6zwfalcx2w-default-tools.drv</span><span style=color:#960050;background-color:#1e0010>»</span>
</span></span></code></pre></div><ul><li><p>From here out I&rsquo;ll leave out the <code>nix-repl></code> prefix just know that it&rsquo;s there.</p></li><li><p>Check lib version(Nixpkgs <code>lib</code> attribute):</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>lib<span style=color:#f92672>.</span>version
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;25.05pre-git&#34;</span>
</span></span></code></pre></div><ul><li>List systemPackages and home.packages, my hostname is <code>magic</code> list yours in its place:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>configs<span style=color:#f92672>.</span>magic<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>environment<span style=color:#f92672>.</span>systemPackages
</span></span><span style=display:flex><span><span style=color:#75715e># list home.packages</span>
</span></span><span style=display:flex><span>configs<span style=color:#f92672>.</span>magic<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>home-manager<span style=color:#f92672>.</span>users<span style=color:#f92672>.</span>jr<span style=color:#f92672>.</span>home<span style=color:#f92672>.</span>packages
</span></span></code></pre></div><ul><li>Or an individual value:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>:p configs<span style=color:#f92672>.</span>magic<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>home-manager<span style=color:#f92672>.</span>users<span style=color:#f92672>.</span>jr<span style=color:#f92672>.</span>programs<span style=color:#f92672>.</span>git<span style=color:#f92672>.</span>userName
</span></span><span style=display:flex><span>TSawyer87
</span></span></code></pre></div><h3 id=debugging>Debugging</h3><ul><li>Check if the module system is fully evaluating, anything other than a &ldquo;set&rdquo; the configuration isn&rsquo;t fully evaluated (e.g. &ldquo;lambda&rdquo; might indicate an unevaluated thunk):</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>:p builtins<span style=color:#f92672>.</span>typeOf configs<span style=color:#f92672>.</span>magic
</span></span><span style=display:flex><span>set
</span></span></code></pre></div><ul><li><p>Debugging Module System:</p></li><li><p>Check if <code>configs.magic</code> is a valid configuration:</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>:p builtins<span style=color:#f92672>.</span>attrNames configs<span style=color:#f92672>.</span>magic
</span></span></code></pre></div></section></main><footer id=main-footer><div class=footer><a href=#>Scroll to Top</a><div class=footer-copyright><div class=dim>© 2025</div><div>Made with ❤️ and powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>759 words</span>
<span>6 - 7 minutes read</span></div><h3>Table Of Contents</h3><nav id=TableOfContents><ul><li><a href=#load-nix-expressions-directly>Load Nix expressions Directly</a><ul><li><a href=#load-flakes>Load Flakes</a></li></ul></li><li><a href=#debugging-with-a-flake-repl-output>Debugging with a Flake REPL output</a><ul><li><a href=#usage>Usage</a></li><li><a href=#debugging>Debugging</a></li></ul></li></ul></nav></aside></div></div></body></html>