<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Nix_repl_tips | NixOS Blog</title>
<meta name=title content="Nix_repl_tips"><meta name=description content="Nix Repl List available commands
TOC

Nix Repl List available commands

Load Nix expressions Directly

Load Flakes


Debugging with a Flake REPL output

Usage
Debugging








List available commands with :?:





nix repl
Nix 2.24.11
Type :? for help.
nix-repl> :?
The following commands are available:

  <expr>                       Evaluate and print expression
  <x> = <expr>                 Bind expression to variable
  :a, :add <expr>              Add attributes from resulting set to scope
  :b <expr>                    Build a derivation
  :bl <expr>                   Build a derivation, creating GC roots in the
                               working directory
  :e, :edit <expr>             Open package or function in $EDITOR
  :i <expr>                    Build derivation, then install result into
                               current profile
  :l, :load <path>             Load Nix expression and add it to scope
  :lf, :load-flake <ref>       Load Nix flake and add it to scope
  :p, :print <expr>            Evaluate and print expression recursively
                               Strings are printed directly, without escaping.
  :q, :quit                    Exit nix-repl
  :r, :reload                  Reload all files
  :sh <expr>                   Build dependencies of derivation, then start
                               nix-shell
  :t <expr>                    Describe result of evaluation
  :u <expr>                    Build derivation, then start nix-shell
  :doc <expr>                  Show documentation of a builtin function
  :log <expr>                  Show logs for a derivation
  :te, :trace-enable [bool]    Enable, disable or toggle showing traces for
                               errors
  :?, :help                    Brings up this help menuLoad Nix expressions Directly
You can quickly evaluate a random Nix expression:"><meta name=author content="T Sawyer"><meta name=keywords content><meta property="og:url" content="https://saylesss88.github.io/posts/nix_repl_tips/"><meta property="og:site_name" content="NixOS Blog"><meta property="og:title" content="Nix_repl_tips"><meta property="og:description" content="Nix Repl List available commands TOC
Nix Repl List available commands Load Nix expressions Directly Load Flakes Debugging with a Flake REPL output Usage Debugging List available commands with :?:
nix repl Nix 2.24.11 Type :? for help. nix-repl> :? The following commands are available: <expr> Evaluate and print expression <x> = <expr> Bind expression to variable :a, :add <expr> Add attributes from resulting set to scope :b <expr> Build a derivation :bl <expr> Build a derivation, creating GC roots in the working directory :e, :edit <expr> Open package or function in $EDITOR :i <expr> Build derivation, then install result into current profile :l, :load <path> Load Nix expression and add it to scope :lf, :load-flake <ref> Load Nix flake and add it to scope :p, :print <expr> Evaluate and print expression recursively Strings are printed directly, without escaping. :q, :quit Exit nix-repl :r, :reload Reload all files :sh <expr> Build dependencies of derivation, then start nix-shell :t <expr> Describe result of evaluation :u <expr> Build derivation, then start nix-shell :doc <expr> Show documentation of a builtin function :log <expr> Show logs for a derivation :te, :trace-enable [bool] Enable, disable or toggle showing traces for errors :?, :help Brings up this help menuLoad Nix expressions Directly You can quickly evaluate a random Nix expression:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-14T19:18:13-04:00"><meta property="article:modified_time" content="2025-05-14T19:18:13-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Nix_repl_tips"><meta name=twitter:description content="Nix Repl List available commands TOC
Nix Repl List available commands Load Nix expressions Directly Load Flakes Debugging with a Flake REPL output Usage Debugging List available commands with :?:
nix repl Nix 2.24.11 Type :? for help. nix-repl> :? The following commands are available: <expr> Evaluate and print expression <x> = <expr> Bind expression to variable :a, :add <expr> Add attributes from resulting set to scope :b <expr> Build a derivation :bl <expr> Build a derivation, creating GC roots in the working directory :e, :edit <expr> Open package or function in $EDITOR :i <expr> Build derivation, then install result into current profile :l, :load <path> Load Nix expression and add it to scope :lf, :load-flake <ref> Load Nix flake and add it to scope :p, :print <expr> Evaluate and print expression recursively Strings are printed directly, without escaping. :q, :quit Exit nix-repl :r, :reload Reload all files :sh <expr> Build dependencies of derivation, then start nix-shell :t <expr> Describe result of evaluation :u <expr> Build derivation, then start nix-shell :doc <expr> Show documentation of a builtin function :log <expr> Show logs for a derivation :te, :trace-enable [bool] Enable, disable or toggle showing traces for errors :?, :help Brings up this help menuLoad Nix expressions Directly You can quickly evaluate a random Nix expression:"><meta itemprop=name content="Nix_repl_tips"><meta itemprop=description content="Nix Repl List available commands TOC
Nix Repl List available commands Load Nix expressions Directly Load Flakes Debugging with a Flake REPL output Usage Debugging List available commands with :?:
nix repl Nix 2.24.11 Type :? for help. nix-repl> :? The following commands are available: <expr> Evaluate and print expression <x> = <expr> Bind expression to variable :a, :add <expr> Add attributes from resulting set to scope :b <expr> Build a derivation :bl <expr> Build a derivation, creating GC roots in the working directory :e, :edit <expr> Open package or function in $EDITOR :i <expr> Build derivation, then install result into current profile :l, :load <path> Load Nix expression and add it to scope :lf, :load-flake <ref> Load Nix flake and add it to scope :p, :print <expr> Evaluate and print expression recursively Strings are printed directly, without escaping. :q, :quit Exit nix-repl :r, :reload Reload all files :sh <expr> Build dependencies of derivation, then start nix-shell :t <expr> Describe result of evaluation :u <expr> Build derivation, then start nix-shell :doc <expr> Show documentation of a builtin function :log <expr> Show logs for a derivation :te, :trace-enable [bool] Enable, disable or toggle showing traces for errors :?, :help Brings up this help menuLoad Nix expressions Directly You can quickly evaluate a random Nix expression:"><meta itemprop=datePublished content="2025-05-14T19:18:13-04:00"><meta itemprop=dateModified content="2025-05-14T19:18:13-04:00"><meta itemprop=wordCount content="754"><meta name=referrer content="no-referrer-when-downgrade"><link href=/original.min.css rel=stylesheet><link href=/syntax.min.css rel=stylesheet></head><body><header><a class=skip-link href=#main-content>Skip to main content</a>
<a href=/ class=title><h1>NixOS Blog</h1></a><nav><a href=https://saylesss88.github.io/index.xml>RSS</a></nav></header><main id=main-content><h1>Nix_repl_tips</h1><p class=byline><time datetime=2025-05-14 pubdate>2025-05-14
</time>· T Sawyer</p><content><h1 id=nix-repl-list-available-commands>Nix Repl List available commands</h1><p><strong>TOC</strong></p><ul><li><a href=#nix-repl-list-available-commands>Nix Repl List available commands</a><ul><li><a href=#load-nix-expressions-directly>Load Nix expressions Directly</a><ul><li><a href=#load-flakes>Load Flakes</a></li></ul></li><li><a href=#debugging-with-a-flake-repl-output>Debugging with a Flake REPL output</a><ul><li><a href=#usage>Usage</a></li><li><a href=#debugging>Debugging</a></li></ul></li></ul></li></ul><figure><img src=/images/gruv11.png alt=gruv11 width=700></figure><p>List available commands with <code>:?</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl
</span></span><span style=display:flex><span>Nix <span style=color:#ae81ff>2</span><span style=color:#ae81ff>.24.11</span>
</span></span><span style=display:flex><span>Type :<span style=color:#f92672>?</span> for help<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> :<span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>The following commands are available:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&lt;expr&gt;</span>                       Evaluate and print expression
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&lt;x&gt;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&lt;expr&gt;</span>                 Bind expression to variable
</span></span><span style=display:flex><span>  :a<span style=color:#960050;background-color:#1e0010>,</span> :add <span style=color:#e6db74>&lt;expr&gt;</span>              Add attributes from resulting set to scope
</span></span><span style=display:flex><span>  :b <span style=color:#e6db74>&lt;expr&gt;</span>                    Build a derivation
</span></span><span style=display:flex><span>  :bl <span style=color:#e6db74>&lt;expr&gt;</span>                   Build a derivation<span style=color:#960050;background-color:#1e0010>,</span> creating GC roots in the
</span></span><span style=display:flex><span>                               working directory
</span></span><span style=display:flex><span>  :e<span style=color:#960050;background-color:#1e0010>,</span> :edit <span style=color:#e6db74>&lt;expr&gt;</span>             Open package or function in <span style=color:#960050;background-color:#1e0010>$</span>EDITOR
</span></span><span style=display:flex><span>  :i <span style=color:#e6db74>&lt;expr&gt;</span>                    Build derivation<span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#66d9ef>then</span> install result into
</span></span><span style=display:flex><span>                               current profile
</span></span><span style=display:flex><span>  :l<span style=color:#960050;background-color:#1e0010>,</span> :load <span style=color:#e6db74>&lt;path&gt;</span>             Load Nix expression and add it to scope
</span></span><span style=display:flex><span>  :lf<span style=color:#960050;background-color:#1e0010>,</span> :load-flake <span style=color:#e6db74>&lt;ref&gt;</span>       Load Nix flake and add it to scope
</span></span><span style=display:flex><span>  :p<span style=color:#960050;background-color:#1e0010>,</span> :print <span style=color:#e6db74>&lt;expr&gt;</span>            Evaluate and print expression recursively
</span></span><span style=display:flex><span>                               Strings are printed directly<span style=color:#960050;background-color:#1e0010>,</span> without escaping<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  :q<span style=color:#960050;background-color:#1e0010>,</span> :quit                    Exit nix-repl
</span></span><span style=display:flex><span>  :r<span style=color:#960050;background-color:#1e0010>,</span> :reload                  Reload all files
</span></span><span style=display:flex><span>  :sh <span style=color:#e6db74>&lt;expr&gt;</span>                   Build dependencies of derivation<span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#66d9ef>then</span> start
</span></span><span style=display:flex><span>                               nix-shell
</span></span><span style=display:flex><span>  :t <span style=color:#e6db74>&lt;expr&gt;</span>                    Describe result of evaluation
</span></span><span style=display:flex><span>  :u <span style=color:#e6db74>&lt;expr&gt;</span>                    Build derivation<span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#66d9ef>then</span> start nix-shell
</span></span><span style=display:flex><span>  :doc <span style=color:#e6db74>&lt;expr&gt;</span>                  Show documentation of a builtin function
</span></span><span style=display:flex><span>  :log <span style=color:#e6db74>&lt;expr&gt;</span>                  Show logs for a derivation
</span></span><span style=display:flex><span>  :te<span style=color:#960050;background-color:#1e0010>,</span> :trace-enable [bool]    Enable<span style=color:#960050;background-color:#1e0010>,</span> disable or toggle showing traces for
</span></span><span style=display:flex><span>                               errors
</span></span><span style=display:flex><span>  :<span style=color:#f92672>?</span><span style=color:#960050;background-color:#1e0010>,</span> :help                    Brings up this help menu</span></span></code></pre></div><h2 id=load-nix-expressions-directly>Load Nix expressions Directly</h2><p>You can quickly evaluate a random Nix expression:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl <span style=color:#960050;background-color:#1e0010>--</span>expr <span style=color:#960050;background-color:#1e0010>&#39;</span>{a <span style=color:#f92672>=</span> { b <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>; c <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>; }; }<span style=color:#960050;background-color:#1e0010>&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Welcome to Nix <span style=color:#ae81ff>2</span><span style=color:#ae81ff>.11.0</span><span style=color:#f92672>.</span> Type :<span style=color:#f92672>?</span> for help<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Loading installable <span style=color:#e6db74>&#39;&#39;...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Added 1 variables.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>nix-repl&gt; a
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{ b = 3; c = 4; }</span></span></span></code></pre></div><ul><li>The <code>--expr</code> flag is helpful to prime directly the Nix REPL with valuable data
or values.</li></ul><h3 id=load-flakes>Load Flakes</h3><p>We can use the <code>--expr</code> flag to load a random Nix Flake directly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl <span style=color:#960050;background-color:#1e0010>--</span>expr <span style=color:#960050;background-color:#1e0010>&#39;</span>builtins<span style=color:#f92672>.</span>getFlake <span style=color:#e6db74>&#34;github:nix-community/ethereum.nix&#34;</span><span style=color:#960050;background-color:#1e0010>&#39;</span></span></span></code></pre></div><p>Also, you can load a flake directly inside the REPL with <code>:load-flake</code> or <code>:lf</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix repl
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> :lf <span style=color:#e6db74>github:nix-community/home-manager</span>
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> :lf <span style=color:#e6db74>/path/to/your/flake</span></span></span></code></pre></div><h2 id=debugging-with-a-flake-repl-output>Debugging with a Flake REPL output</h2><ul><li>One way to do this is to launch the repl with <code>nix repl</code> and inside the repl type <code>:lf /path/to/flake</code>. Or <code>nixos-rebuild repl --flake /path/to/flake</code> the latter provides a helpful welcome script showing what is loaded into your repl&rsquo;s scope.</li></ul><p>I like to create a simple repl output to load your flake into the environment with <code>nix repl .#repl</code>.</p><p>First, we&rsquo;ll create a REPL environment to inspect and debug our flake&rsquo;s outputs,packages, and configurations. Define a <code>repl</code> output in <code>flake.nix</code> for easy access with <code>nix repl .#repl</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span><span style=color:#75715e># flake.nix</span>
</span></span><span style=display:flex><span>outputs <span style=color:#f92672>=</span> { self<span style=color:#f92672>,</span> nixpkgs<span style=color:#f92672>,</span> <span style=color:#f92672>...</span> }: <span style=color:#66d9ef>let</span>
</span></span><span style=display:flex><span>  pkgs <span style=color:#f92672>=</span> <span style=color:#f92672>import</span> nixpkgs { system <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;x86_64-linux&#34;</span>; };
</span></span><span style=display:flex><span><span style=color:#66d9ef>in</span> {
</span></span><span style=display:flex><span>  repl <span style=color:#f92672>=</span> <span style=color:#f92672>import</span> <span style=color:#e6db74>./repl.nix</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>inherit</span> (pkgs) lib;
</span></span><span style=display:flex><span>    flake <span style=color:#f92672>=</span> self;
</span></span><span style=display:flex><span>    pkgs <span style=color:#f92672>=</span> pkgs;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>};</span></span></code></pre></div><p>And in <code>repl.nix</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span><span style=color:#75715e># repl.nix</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  lib<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>  flake<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>  pkgs<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>}: {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>inherit</span> flake pkgs lib;
</span></span><span style=display:flex><span>  configs <span style=color:#f92672>=</span> flake<span style=color:#f92672>.</span>nixosConfigurations;
</span></span><span style=display:flex><span>  <span style=color:#75715e># inherit (flake.outputs) userVars;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e># Accepts `lib`, `flake`, `pkgs` from `flake.nix` as arguments</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Attributes: flake: all flake outputs (flake.outputs, flake.inputs)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># run `nix repl .#repl` to load the REPL environment</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :l &lt;nixpkgs&gt;  # load additional Nixpkgs if needed</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p flake.inputs.nixpkgs.rev # nixpkgs revision</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p flake.inputs.home-manager.rev</span>
</span></span><span style=display:flex><span><span style=color:#75715e># flake.outputs.packages.x86_64-linux.default # inspect default package</span>
</span></span><span style=display:flex><span><span style=color:#75715e># pkgs.helix # access helix package</span>
</span></span><span style=display:flex><span><span style=color:#75715e># lib.version # check lib version</span>
</span></span><span style=display:flex><span><span style=color:#75715e># configs.magic.config.environment.systemPackages # list packages</span>
</span></span><span style=display:flex><span><span style=color:#75715e># configs.magic.config.home-manager.users.jr.home.packages # home packages</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.home-manager.users.jr.programs.git.userName</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Debugging</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p builtins.typeOf configs.magic (should be `set`)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p builtins.attrNames configs.magic</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config # errors indicate issues</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.environment # isolate the module or issue</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p builtins.attrNames configs.magic.config.home-manager.users.jr # home attrs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.home-manager.users.jr.programs.git.enable # true/false</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  :p lib.filterAttrs (n: v: lib.hasPrefix &#34;firefox&#34; n) pkgs</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.stylix # check theming</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p configs.magic.config.home-manager.users.jr.stylix</span>
</span></span><span style=display:flex><span><span style=color:#75715e># :p lib.mapAttrsToList (name: cfg: name) configs</span></span></span></code></pre></div><blockquote><p>❗: Replace <code>magic</code> with your host name</p></blockquote><h3 id=usage>Usage</h3><p>Load REPL environment with:
<code>nix repl .#repl</code></p><p>Attributes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> builtins<span style=color:#f92672>.</span>attrNames flake<span style=color:#f92672>.</span>inputs
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;dont-track-me&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;helix&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;home-manager&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;hyprland&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;neovim-nightly-overlay&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;nixpkgs&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;nvf&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;rose-pine-hyprcursor&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;stylix&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;treefmt-nix&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;wallpapers&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;wezterm&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;yazi&#34;</span>
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> builtins<span style=color:#f92672>.</span>attrNames flake<span style=color:#f92672>.</span>outputs
</span></span><span style=display:flex><span>[
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;checks&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;devShells&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;formatter&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;nixosConfigurations&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;packages&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;repl&#34;</span>
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> flake<span style=color:#f92672>.</span>outputs<span style=color:#f92672>.</span>formatter
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  x86_64-linux <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>«</span>derivation <span style=color:#e6db74>/nix/store/q71q00wmh1gnjzdrw5nrvwbr6k414036-treefmt.drv</span><span style=color:#960050;background-color:#1e0010>»</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><ul><li>Inspect the default package output:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>nix-repl<span style=color:#f92672>&gt;</span> flake<span style=color:#f92672>.</span>outputs<span style=color:#f92672>.</span>packages<span style=color:#f92672>.</span>x86_64-linux<span style=color:#f92672>.</span>default
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>«</span>derivation <span style=color:#e6db74>/nix/store/6kp660mm62saryskpa1f2p6zwfalcx2w-default-tools.drv</span><span style=color:#960050;background-color:#1e0010>»</span></span></span></code></pre></div><ul><li><p>From here out I&rsquo;ll leave out the <code>nix-repl></code> prefix just know that it&rsquo;s there.</p></li><li><p>Check lib version(Nixpkgs <code>lib</code> attribute):</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>lib<span style=color:#f92672>.</span>version
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;25.05pre-git&#34;</span></span></span></code></pre></div><ul><li>List systemPackages and home.packages, my hostname is <code>magic</code> list yours in its place:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>configs<span style=color:#f92672>.</span>magic<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>environment<span style=color:#f92672>.</span>systemPackages
</span></span><span style=display:flex><span><span style=color:#75715e># list home.packages</span>
</span></span><span style=display:flex><span>configs<span style=color:#f92672>.</span>magic<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>home-manager<span style=color:#f92672>.</span>users<span style=color:#f92672>.</span>jr<span style=color:#f92672>.</span>home<span style=color:#f92672>.</span>packages</span></span></code></pre></div><ul><li>Or an individual value:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>:p configs<span style=color:#f92672>.</span>magic<span style=color:#f92672>.</span>config<span style=color:#f92672>.</span>home-manager<span style=color:#f92672>.</span>users<span style=color:#f92672>.</span>jr<span style=color:#f92672>.</span>programs<span style=color:#f92672>.</span>git<span style=color:#f92672>.</span>userName
</span></span><span style=display:flex><span>TSawyer87</span></span></code></pre></div><h3 id=debugging>Debugging</h3><ul><li>Check if the module system is fully evaluating, anything other than a &ldquo;set&rdquo; the configuration isn&rsquo;t fully evaluated (e.g. &ldquo;lambda&rdquo; might indicate an unevaluated thunk):</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>:p builtins<span style=color:#f92672>.</span>typeOf configs<span style=color:#f92672>.</span>magic
</span></span><span style=display:flex><span>set</span></span></code></pre></div><ul><li><p>Debugging Module System:</p></li><li><p>Check if <code>configs.magic</code> is a valid configuration:</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>:p builtins<span style=color:#f92672>.</span>attrNames configs<span style=color:#f92672>.</span>magic</span></span></code></pre></div></content><p></p></main><footer><small>|</small></footer></body></html>