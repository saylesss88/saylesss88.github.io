<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My-Nix-Blog</title>
    <!-- <link rel="stylesheet" href="https://saylesss88.github.io/style.css" /> -->
    <script>
      const baseUrl = "https://saylesss88.github.io";
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Welcome to My-Nix-Blog</h1>

      <button id="dark-mode-toggle">Toggle Dark Mode</button>

      <a href="https://saylesss88.github.io/rss.xml" id="rss-button" role="button">
        üì° Subscribe via RSS
      </a>

      <div role="search">
        <input
          type="text"
          id="search"
          placeholder="Search..."
          aria-label="Search"
        />
        <div class="search-results" aria-live="polite">
          <ul class="search-results__items"></ul>
        </div>
      </div>

      
  &lt;h1 id=&quot;introduction-to-nix-derivations&quot;&gt;Introduction to Nix Derivations&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;strong&gt;TOC&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#introduction-to-nix-derivations&quot;&gt;Introduction to Nix Derivations&lt;&#x2F;a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#creating-derivations-in-nix&quot;&gt;Creating Derivations in Nix&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#our-first-simple-derivation-understanding-the-builder&quot;&gt;Our First Simple Derivation: Understanding the Builder&lt;&#x2F;a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#why-a-builder-script&quot;&gt;Why a Builder Script?&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#the-challenge-with-shebangs-in-nix&quot;&gt;The Challenge with Shebangs in Nix&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#the-importance-of-statelessness-in-nix&quot;&gt;The Importance of Statelessness in Nix&lt;&#x2F;a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#our-builder-script&quot;&gt;Our builder Script&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#our-second-derivation&quot;&gt;Our Second Derivation&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;saylesss88.github.io&#x2F;blog&#x2F;understanding-derivations&#x2F;#links-to-articles-about-derivations&quot;&gt;Links To Articles about Derivations&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;img src=&quot;&#x2F;images&#x2F;gruv10.png&quot; alt=&quot;Gruv10&quot; width=&quot;700&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A derivation in Nix is a fundamental concept that describes how to build a piece of software or a resource (e.g., a package, library, or configuration file). Think of it as a recipe for creating something within the Nix ecosystem.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;For beginners, the analogy of a cooking recipe is helpful:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ingredients (Dependencies):&lt;&#x2F;strong&gt; What other software or libraries are needed.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Steps (Build Instructions):&lt;&#x2F;strong&gt; The commands to compile, configure, and install.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Final Dish (Output):&lt;&#x2F;strong&gt; The resulting package or resource.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;A Nix derivation encapsulates all this information, telling Nix what inputs
to use, how to build it, and what the final output should be.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;creating-derivations-in-nix&quot;&gt;Creating Derivations in Nix&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The primary way to define packages in Nix is through the &lt;code&gt;mkDerivation&lt;&#x2F;code&gt; function, which is part of the standard environment (&lt;code&gt;stdenv&lt;&#x2F;code&gt;). While a
lower-level &lt;code&gt;derivation&lt;&#x2F;code&gt; function exists for advanced use cases,
&lt;code&gt;mkDerivation&lt;&#x2F;code&gt; simplifies the process by automatically managing dependencies
and the build environment.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;mkDerivation&lt;&#x2F;code&gt; (and &lt;code&gt;derivation&lt;&#x2F;code&gt;) takes a set of attributes as its argument.
At a minimum, you&#x27;ll often encounter these essential attributes:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;name:&lt;&#x2F;strong&gt; A human-readable identifier for the derivation
(e.g., &quot;foo&quot;, &quot;hello.txt&quot;). This helps you and Nix refer to the package.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;system:&lt;&#x2F;strong&gt; Specifies the target architecture for the build
(e.g., &lt;code&gt;builtins.currentSystem&lt;&#x2F;code&gt; for your current machine).&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;builder:&lt;&#x2F;strong&gt; Defines the program that will execute the build instructions
(e.g., &lt;code&gt;bash&lt;&#x2F;code&gt;).&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;our-first-simple-derivation-understanding-the-builder&quot;&gt;Our First Simple Derivation: Understanding the Builder&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;To understand how derivations work, let&#x27;s create a very basic example using a
bash script as our &lt;code&gt;builder&lt;&#x2F;code&gt;.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;why-a-builder-script&quot;&gt;Why a Builder Script?&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;builder&lt;&#x2F;code&gt; attribute in a derivation tells Nix &lt;em&gt;how&lt;&#x2F;em&gt; to perform the build
steps. A simple and common way to define these steps is with a bash script.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;the-challenge-with-shebangs-in-nix&quot;&gt;The Challenge with Shebangs in Nix&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In typical Unix-like systems, you might start a bash script with a shebang
(&lt;code&gt;#!&#x2F;bin&#x2F;bash&lt;&#x2F;code&gt; or &lt;code&gt;#!&#x2F;usr&#x2F;bin&#x2F;env bash&lt;&#x2F;code&gt;) to tell the system how to execute it.
However, in Nix derivations, we generally avoid this.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Reason:&lt;&#x2F;strong&gt; Nix builds happen in an isolated environment where the exact path
to common tools like &lt;code&gt;bash&lt;&#x2F;code&gt; isn&#x27;t known beforehand (it resides within the Nix
store). Hardcoding a path or relying on the system&#x27;s &lt;code&gt;PATH&lt;&#x2F;code&gt; would break Nix&#x27;s
stateless property.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;the-importance-of-statelessness-in-nix&quot;&gt;The Importance of Statelessness in Nix&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Stateful Systems (Traditional):&lt;&#x2F;strong&gt; When you install software traditionally,
it often modifies the core system environment directly. This can lead to
dependency conflicts and makes rollbacks difficult.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Stateless Systems (Nix):&lt;&#x2F;strong&gt; Nix takes a different approach. When installing
a package, it creates a unique, immutable directory in the Nix store. This
means:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;No Conflicts:&lt;&#x2F;strong&gt; Different versions of the same package can coexist
without interfering with each other.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Reliable Rollback:&lt;&#x2F;strong&gt; You can easily switch back to previous versions
without affecting system-wide files.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Reproducibility:&lt;&#x2F;strong&gt; Builds are more likely to produce the same result
across different machines if they are &quot;pure&quot; (don&#x27;t rely on external
system state).&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;our-builder-script&quot;&gt;Our builder Script&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;For our first derivation, we&#x27;ll create a simple &lt;code&gt;builder.sh&lt;&#x2F;code&gt; file in the current directory:&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# builder.sh
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;declare &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;-x&lt;&#x2F;span&gt;&lt;span&gt;p
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt; foo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;$out
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The command &lt;code&gt;declare -xp&lt;&#x2F;code&gt; lists exported variables (it&#x27;s a bash builtin
function).&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Nix needs to know where the final built product (the &quot;cake&quot; in our earlier
analogy) should be placed. So, during the derivation process, Nix calculates
a unique output path within the Nix store. This path is then made available
to our builder script as an environment variable named &lt;code&gt;$out&lt;&#x2F;code&gt;. The &lt;code&gt;.drv&lt;&#x2F;code&gt;
file, which is the recipe, contains instructions for the builder, including
setting up this &lt;code&gt;$out&lt;&#x2F;code&gt; variable. Our builder script will then put the result
of its work (in this case, the &quot;foo&quot; file) into this specific &lt;code&gt;$out&lt;&#x2F;code&gt; directory.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;As mentioned earlier we need to find the nix store path to the bash
executable, common way to do this is to load Nixpkgs into the repl
and check:&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix-repl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; :l &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;nixpkgs&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;Added&lt;&#x2F;span&gt;&lt;span&gt; 3950 variables.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix-repl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;$&lt;&#x2F;span&gt;&lt;span&gt;{bash}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&#x2F;nix&#x2F;store&#x2F;ihmkc7z2wqk3bbipfnlh0yjrlfkkgnv6-bash-4.2-p45&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;So, with this little trick we are able to refer to &lt;code&gt;bin&#x2F;bash&lt;&#x2F;code&gt; and create
our derivation:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix-repl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; d = derivation { name = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;foo&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;; builder = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;$&lt;&#x2F;span&gt;&lt;span&gt;{bash}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&#x2F;bin&#x2F;bash&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt; args = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span&gt; .&#x2F;builder.sh &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span&gt;; system = builtins.currentSystem; }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix-repl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; :b d
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;[1&lt;&#x2F;span&gt;&lt;span&gt; built, 0.0 MiB DL]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt; derivation produced the following outputs:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;out&lt;&#x2F;span&gt;&lt;span&gt; -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;nix&#x2F;store&#x2F;gczb4qrag22harvv693wwnflqy7lx5pb-foo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Boom! The contents of &lt;code&gt;&#x2F;nix&#x2F;store&#x2F;w024zci0x1hh1wj6gjq0jagkc1sgrf5r-foo&lt;&#x2F;code&gt;
is really foo! We&#x27;ve built our first derivation.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Derivations are the primitive that Nix uses to define packages. ‚ÄúPackage‚Äù
is a loosely defined term, but a derivation is simply the result of calling
&lt;code&gt;builtins.derivation&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;our-second-derivation&quot;&gt;Our Second Derivation&lt;&#x2F;h4&gt;
&lt;p&gt;The following is a simple &lt;code&gt;hello-drv&lt;&#x2F;code&gt; derivation:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;nix&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-nix &quot;&gt;&lt;code class=&quot;language-nix&quot; data-lang=&quot;nix&quot;&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;nix-repl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;hello-drv &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff3333;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;nixpkgs&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;stdenv&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;mkDerivation &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;hello.txt&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;unpackPhase &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;true&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;installPhase &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;&amp;#39;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;              echo -n &amp;quot;Hello World!&amp;quot; &amp;gt; $out
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;            &amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;          }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;nix-repl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;hello-drv
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff3333;&quot;&gt;¬´&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;derivation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&#x2F;nix&#x2F;store&#x2F;ad6c51ia15p9arjmvvqkn9fys9sf1kdw-hello.txt.drv&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff3333;&quot;&gt;¬ª
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;Derivations have a &lt;code&gt;.drv&lt;&#x2F;code&gt; suffix, as you can see the result of calling
&lt;code&gt;hello-drv&lt;&#x2F;code&gt; is the nix store path to a derivation.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;links-to-articles-about-derivations&quot;&gt;Links To Articles about Derivations&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;nixos.org&#x2F;guides&#x2F;nix-pills&#x2F;06-our-first-derivation&quot;&gt;NixPillsOurFirstDerivation&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;nixos.org&#x2F;guides&#x2F;nix-pills&#x2F;07-working-derivation&quot;&gt;NixPills-WorkingDerivation&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;nix.dev&#x2F;manual&#x2F;nix&#x2F;2.24&#x2F;language&#x2F;derivations&quot;&gt;nix.dev-Derivations&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;nix.dev&#x2F;tutorials&#x2F;packaging-existing-software&quot;&gt;nix.dev-packagingExistingSoftware&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;ianthehenry.com&#x2F;posts&#x2F;how-to-learn-nix&#x2F;my-first-derivation&#x2F;&quot;&gt;howToLearnNix-MyFirstDerivation&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;ianthehenry.com&#x2F;posts&#x2F;how-to-learn-nix&#x2F;derivations-in-detail&#x2F;&quot;&gt;howToLearnNix-DerivationsInDetail&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.sam.today&#x2F;blog&#x2F;creating-a-super-simple-derivation-learning-nix-pt-3&quot;&gt;Sparky&#x2F;blog-creatingASuperSimpleDerivation&lt;&#x2F;a&gt; # How to learn Nix&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.sam.today&#x2F;blog&#x2F;derivations-102-learning-nix-pt-4&quot;&gt;Sparky&#x2F;blog-Derivations102&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;scrive.github.io&#x2F;nix-workshop&#x2F;04-derivations&#x2F;01-derivation-basics.html&quot;&gt;ScriveNixWorkshop-nixDerivationBasics&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;zero-to-nix.com&#x2F;concepts&#x2F;derivations&#x2F;&quot;&gt;zeroToNix-Derivations&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.tweag.io&#x2F;blog&#x2F;2021-02-17-derivation-outputs-and-output-paths&#x2F;&quot;&gt;Tweag-derivationOutputs&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;ayats.org&#x2F;blog&#x2F;nix-tuto-2&quot;&gt;theNixLectures-Derivations&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;bmcgee.ie&#x2F;posts&#x2F;2023&#x2F;02&#x2F;nix-what-are-fixed-output-derivations-and-why-use-them&#x2F;&quot;&gt;bmcgee-whatAreFixed-OutputDerivations&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;


    </div>

    <script defer src="https://saylesss88.github.io/elasticlunr.min.js"></script>
    <script defer>
      let index;

      fetch(`${baseUrl}/search_index.en.json`)
        .then((response) => response.json())
        .then((data) => {
          index = elasticlunr.Index.load(data);

          const searchInput = document.getElementById("search");
          const resultsContainer = document.querySelector(".search-results");
          const resultsList = document.querySelector(".search-results__items");

          searchInput.addEventListener("input", (e) => {
            const query = e.target.value.trim();

            if (!query || !index) {
              resultsContainer.style.display = "none";
              resultsList.innerHTML = "";
              return;
            }

            const results = index.search(query, { expand: true });

            if (results.length > 0) {
              resultsList.innerHTML = results
                .map((result) => {
                  const ref = index.documentStore.getDoc(result.ref);
                  return `<li><a href="${ref.permalink}">${ref.title}</a></li>`;
                })
                .join("");
              resultsContainer.style.display = "block";
            } else {
              resultsList.innerHTML = "<li>No results found.</li>";
              resultsContainer.style.display = "block";
            }
          });
        })
        .catch((err) => {
          console.error("Search index failed to load:", err);
        });
    </script>

    <script defer>
      document.addEventListener("DOMContentLoaded", () => {
        const darkModeToggle = document.getElementById("dark-mode-toggle");
        const body = document.body;

        const savedTheme = localStorage.getItem("theme") || "light";

        // Apply the saved theme on load
        if (savedTheme === "dark") {
          body.classList.add("dark-mode");
        }

        darkModeToggle.addEventListener("click", () => {
          body.classList.toggle("dark-mode");
          const currentTheme = body.classList.contains("dark-mode")
            ? "dark"
            : "light";
          localStorage.setItem("theme", currentTheme);
        });
      });
    </script>
  </body>
</html>
