<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My-Nix-Blog</title>
    <style>
      /* General styles */
      body {
        background-color: #fbf1c7;
        color: #3c3836;
        line-height: 1.6;
        transition:
          background-color 0.3s,
          color 0.3s;
        font-family: Arial, sans-serif;
      }
      .container {
        max-width: 95%;
        margin: auto;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        padding: 20px;
        border-radius: 8px;
        background-color: #f2e5bc;
      }
      ul li {
        margin-bottom: 0.75em;
      }
      a {
        color: #cc6600;
        text-decoration: none;
        transition: color 0.3s ease-in-out;
      }
      a:visited {
        color: #386841;
      }
      a:hover {
        color: #af3a03;
        text-decoration: underline;
      }
      :not(pre) > code {
        font-family: monospace;
        font-size: 0.85em;
        background-color: #a89984;
        color: #3c3836;
        padding: 2px 5px;
        border-radius: 3px;
        border: 1px solid #d65d0e;
      }
      pre {
        overflow-x: auto;
        font-size: 1em;
        padding: 10px;
        background-color: #f2e5bc;
        border-radius: 5px;
      }
      @media (max-width: 600px) {
        pre {
          font-size: 1.1em;
          padding: 12px;
        }
      }
      h1,
      h2 {
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
      }
      img:hover {
        transform: scale(1.05);
        transition: transform 0.3s ease-in-out;
      }
      table {
        background-color: #f2e5bc; /* Soft Gruvbox-light background */
        color: #3c3836; /* Dark readable text */
        border-collapse: collapse;
        width: 100%;
        border: 1px solid #d65d0e; /* Matching Gruvbox accent */
      }

      th {
        background-color: #f2e5bc; /* Same light background for headers */
        color: #3c3836;
        padding: 10px;
        border: 1px solid #d65d0e;
      }

      td {
        background-color: #fbf1c7; /* Slightly lighter than header */
        color: #3c3836;
        padding: 8px;
        border: 1px solid #d65d0e;
      }

      /* Dark mode styles */
      [data-theme="dark"] {
        background-color: #3c3836;
        color: #ebdbb2;
      }
      [data-theme="dark"] .container {
        background-color: #3c3836;
      }
      [data-theme="dark"] body {
        background-color: #3c3836;
      }
      [data-theme="dark"] table {
        background-color: #3c3836; /* Dark background */
        color: #ebdbb2; /* Light text */
        border-collapse: collapse;
        width: 100%;
      }

      [data-theme="dark"] th {
        background-color: #504945; /* Slightly lighter for headers */
        color: #ebdbb2;
        padding: 10px;
        border: 1px solid #d65d0e;
      }

      [data-theme="dark"] td {
        background-color: #3c3836;
        color: #ebdbb2;
        padding: 8px;
        border: 1px solid #d65d0e;
      }
      [data-theme="dark"] article,
      [data-theme="dark"] section,
      [data-theme="dark"] p,
      [data-theme="dark"] ul,
      [data-theme="dark"] li {
        color: #ebdbb2;
      }
      [data-theme="dark"] pre {
        background-color: #1d2021;
        color: #d4be98;
        border: 1px solid #d65d0e;
      }
      [data-theme="dark"] h1,
      [data-theme="dark"] h2 {
        color: #ebdbb2;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
      }

      #dark-mode-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 10px 15px;
        background-color: #cc6600;
        color: #fbf1c7;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9em;
      }
      #dark-mode-toggle:hover {
        background-color: #af3a03;
      }

      #rss-button {
        display: inline-block;
        padding: 10px 15px;
        background-color: #cc6600;
        color: #fbf1c7;
        border-radius: 5px;
        margin: 10px 0;
        font-size: 0.9em;
      }
      #rss-button:hover {
        background-color: #af3a03;
        text-decoration: none;
      }

      /* Search box styles */
      #search {
        width: 60%;
        padding: 8px;
        border-radius: 5px;
        border: 1px solid #d65d0e;
        font-size: 0.9em;
        margin-top: 10px;
        color: #3c3836;
        background-color: #fbf1c7;
        box-sizing: border-box;
      }
      [data-theme="dark"] #search {
        color: #ebdbb2; /* Dark mode text color */
        background-color: #3c3836; /* Dark mode background color */
        border: 1px solid #d65d0e; /* Keep the border consistent or adjust */
      }

      .search-results {
        margin-top: 10px;
        list-style: none;
        padding: 0;
        background-color: #f2e5bc; /* Background for results */
        border: 1px solid #d65d0e; /* Border for results */
        border-radius: 5px;
        padding: 10px;
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 60%;
        max-height: 300px;
        overflow-y: auto;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      [data-theme="dark"] .search-results {
        background-color: #3c3836; /* Dark mode background for results */
        color: #ebdbb2; /* Dark mode text color for results */
        border: 1px solid #d65d0e; /* Keep consistent or adjust */
      }
      .search-results__items {
        margin-top: 10px;
        list-style: none;
        padding: 0;
      }
      .search-results__items li {
        margin-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Welcome to My-Nix-Blog</h1>

      <button id="dark-mode-toggle">Toggle Dark Mode</button>

      <a href="https://saylesss88.github.io/blog/rss.xml" id="rss-button">
        📡 Subscribe via RSS
      </a>

      <input type="text" id="search" placeholder="Search..." />
      <div class="search-results">
        <ul class="search-results__items"></ul>
      </div>

      
<h1 class="title">Nix Repl Overview</h1>
<p class="subtitle"><strong>2025-05-06</strong></p>
<h1 id="nix-repl-list-available-commands">Nix Repl List available commands</h1>
<p><strong>TOC</strong></p>
<ul>
<li><a href="https://saylesss88.github.io/blog/blog/nix-repl-tips/#nix-repl-list-available-commands">Nix Repl List available commands</a>
<ul>
<li><a href="https://saylesss88.github.io/blog/blog/nix-repl-tips/#load-nix-expressions-directly">Load Nix expressions Directly</a>
<ul>
<li><a href="https://saylesss88.github.io/blog/blog/nix-repl-tips/#load-flakes">Load Flakes</a></li>
</ul>
</li>
<li><a href="https://saylesss88.github.io/blog/blog/nix-repl-tips/#debugging-with-a-flake-repl-output">Debugging with a Flake REPL output</a>
<ul>
<li><a href="https://saylesss88.github.io/blog/blog/nix-repl-tips/#usage">Usage</a></li>
<li><a href="https://saylesss88.github.io/blog/blog/nix-repl-tips/#debugging">Debugging</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<img src="/images/gruv11.png" alt="Cyber" width="700">
<p>List available commands with <code>:?</code>:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix repl
</span><span style="color:#ffcc66;">Nix 2</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">24</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">11
</span><span style="color:#ffcc66;">Type </span><span>:</span><span style="color:#ff3333;">? </span><span style="color:#ffcc66;">for help</span><span style="color:#f29e74;">.
</span><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ff3333;">:</span><span style="color:#f29e74;">?
</span><span style="color:#ffcc66;">The following commands are available</span><span>:
</span><span>
</span><span>  </span><span style="color:#bae67e;">&lt;expr&gt;                       </span><span style="color:#ffcc66;">Evaluate and print expression
</span><span>  </span><span style="color:#bae67e;">&lt;x&gt; </span><span style="color:#ff3333;">= </span><span style="color:#bae67e;">&lt;expr&gt;                 </span><span style="color:#ffcc66;">Bind expression to variable
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">a</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">add </span><span style="color:#bae67e;">&lt;expr&gt;              </span><span style="color:#ffcc66;">Add attributes from resulting set to scope
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">b </span><span style="color:#bae67e;">&lt;expr&gt;                    </span><span style="color:#ffcc66;">Build a </span><span style="color:#f28779;">derivation
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">bl </span><span style="color:#bae67e;">&lt;expr&gt;                   </span><span style="color:#ffcc66;">Build a </span><span style="color:#f28779;">derivation</span><span style="color:#ff3333;">, </span><span style="color:#ffcc66;">creating GC roots </span><span style="color:#ff3333;">in </span><span style="color:#ffcc66;">the
</span><span>                               </span><span style="color:#ffcc66;">working directory
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">e</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">edit </span><span style="color:#bae67e;">&lt;expr&gt;             </span><span style="color:#ffcc66;">Open package </span><span style="color:#f29e74;">or </span><span style="color:#ffcc66;">function </span><span style="color:#ff3333;">in $</span><span style="color:#ffcc66;">EDITOR
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">i </span><span style="color:#bae67e;">&lt;expr&gt;                    </span><span style="color:#ffcc66;">Build </span><span style="color:#f28779;">derivation</span><span style="color:#ff3333;">, then </span><span style="color:#ffcc66;">install result into
</span><span>                               </span><span style="color:#ffcc66;">current profile
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">l</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">load </span><span style="color:#bae67e;">&lt;path&gt;             </span><span style="color:#ffcc66;">Load Nix expression and add it to scope
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">lf</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">load-flake </span><span style="color:#bae67e;">&lt;ref&gt;       </span><span style="color:#ffcc66;">Load Nix flake and add it to scope
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">p</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">print </span><span style="color:#bae67e;">&lt;expr&gt;            </span><span style="color:#ffcc66;">Evaluate and print expression recursively
</span><span>                               </span><span style="color:#ffcc66;">Strings are printed directly</span><span style="color:#ff3333;">, </span><span style="color:#ffcc66;">without escaping</span><span style="color:#f29e74;">.
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">q</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">quit                    Exit nix-repl
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">r</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">reload                  Reload all files
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">sh </span><span style="color:#bae67e;">&lt;expr&gt;                   </span><span style="color:#ffcc66;">Build dependencies of </span><span style="color:#f28779;">derivation</span><span style="color:#ff3333;">, then </span><span style="color:#ffcc66;">start
</span><span>                               </span><span style="color:#ffcc66;">nix-shell
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">t </span><span style="color:#bae67e;">&lt;expr&gt;                    </span><span style="color:#ffcc66;">Describe result of evaluation
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">u </span><span style="color:#bae67e;">&lt;expr&gt;                    </span><span style="color:#ffcc66;">Build </span><span style="color:#f28779;">derivation</span><span style="color:#ff3333;">, then </span><span style="color:#ffcc66;">start nix-shell
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">doc </span><span style="color:#bae67e;">&lt;expr&gt;                  </span><span style="color:#ffcc66;">Show documentation of a builtin function
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">log </span><span style="color:#bae67e;">&lt;expr&gt;                  </span><span style="color:#ffcc66;">Show logs for a </span><span style="color:#f28779;">derivation
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">te</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">trace-enable </span><span>[</span><span style="color:#ffcc66;">bool</span><span>]    </span><span style="color:#ffcc66;">Enable</span><span style="color:#ff3333;">, </span><span style="color:#ffcc66;">disable </span><span style="color:#f29e74;">or </span><span style="color:#ffcc66;">toggle showing traces for
</span><span>                               </span><span style="color:#ffcc66;">errors
</span><span>  </span><span style="color:#ff3333;">:</span><span style="color:#f29e74;">?</span><span style="color:#ff3333;">, :</span><span style="color:#ffcc66;">help                    Brings up this help menu
</span></code></pre>
<h2 id="load-nix-expressions-directly">Load Nix expressions Directly</h2>
<p>You can quickly evaluate a random Nix expression:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix repl </span><span style="color:#f29e74;">--</span><span style="color:#ffcc66;">expr </span><span style="color:#ff3333;">&#39;</span><span>{</span><span style="color:#ffd580;">a </span><span style="color:#f29e74;">= </span><span>{ </span><span style="color:#ffd580;">b </span><span style="color:#f29e74;">= </span><span style="color:#ffcc66;">3</span><span style="color:#ccc9c2cc;">; </span><span style="color:#ffd580;">c </span><span style="color:#f29e74;">= </span><span style="color:#ffcc66;">4</span><span style="color:#ccc9c2cc;">; </span><span>}</span><span style="color:#ccc9c2cc;">; </span><span>}</span><span style="color:#ff3333;">&#39;
</span><span>
</span><span style="color:#ffcc66;">Welcome to Nix 2</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">11</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">0</span><span style="color:#f29e74;">. </span><span style="color:#ffcc66;">Type </span><span>:</span><span style="color:#ff3333;">? </span><span style="color:#ffcc66;">for help</span><span style="color:#f29e74;">.
</span><span>
</span><span style="color:#ffcc66;">Loading installable </span><span style="color:#bae67e;">&#39;&#39;...
</span><span style="color:#bae67e;">Added 1 variables.
</span><span style="color:#bae67e;">nix-repl&gt; a
</span><span style="color:#bae67e;">{ b = 3; c = 4; }
</span></code></pre>
<ul>
<li>The <code>--expr</code> flag is helpful to prime directly the Nix REPL with valuable data
or values.</li>
</ul>
<h3 id="load-flakes">Load Flakes</h3>
<p>We can use the <code>--expr</code> flag to load a random Nix Flake directly:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix repl </span><span style="color:#f29e74;">--</span><span style="color:#ffcc66;">expr </span><span style="color:#ff3333;">&#39;</span><span style="color:#ffcc66;">builtins</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">getFlake </span><span style="color:#bae67e;">&quot;github:nix-community/ethereum.nix&quot;</span><span style="color:#ff3333;">&#39;
</span></code></pre>
<p>Also, you can load a flake directly inside the REPL with <code>:load-flake</code> or <code>:lf</code>:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix repl
</span><span>
</span><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">lf </span><span style="color:#bae67e;">github:nix-community/home-manager
</span><span style="font-style:italic;color:#5c6773;"># or
</span><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">lf </span><span style="color:#bae67e;">/path/to/your/flake
</span></code></pre>
<h2 id="debugging-with-a-flake-repl-output">Debugging with a Flake REPL output</h2>
<ul>
<li>One way to do this is to launch the repl with <code>nix repl</code> and inside the repl type <code>:lf /path/to/flake</code>. Or <code>nixos-rebuild repl --flake /path/to/flake</code> the latter provides a helpful welcome script showing what is loaded into your repl's scope.</li>
</ul>
<p>I like to create a simple repl output to load your flake into the environment with <code>nix repl .#repl</code>.</p>
<p>First, we'll create a REPL environment to inspect and debug our flake's outputs,packages, and configurations. Define a <code>repl</code> output in <code>flake.nix</code> for easy access with <code>nix repl .#repl</code>:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="font-style:italic;color:#5c6773;"># flake.nix
</span><span style="color:#ffcc66;">outputs </span><span style="color:#ff3333;">= </span><span>{ </span><span style="color:#ffcc66;">self</span><span style="color:#f29e74;">, </span><span style="color:#ffcc66;">nixpkgs</span><span style="color:#f29e74;">, ... </span><span>}: </span><span style="color:#ffa759;">let
</span><span>  </span><span style="color:#ffd580;">pkgs </span><span style="color:#f29e74;">= </span><span style="color:#f28779;">import </span><span style="color:#ffcc66;">nixpkgs </span><span>{ </span><span style="color:#ffd580;">system </span><span style="color:#f29e74;">= </span><span style="color:#bae67e;">&quot;x86_64-linux&quot;</span><span style="color:#ccc9c2cc;">; </span><span>}</span><span style="color:#ccc9c2cc;">;
</span><span style="color:#ffa759;">in </span><span>{
</span><span>  </span><span style="color:#ffd580;">repl </span><span style="color:#f29e74;">= </span><span style="color:#f28779;">import </span><span style="color:#bae67e;">./repl.nix </span><span>{
</span><span>    </span><span style="color:#ffa759;">inherit </span><span>(</span><span style="color:#ffcc66;">pkgs</span><span>) </span><span style="color:#ffd580;">lib</span><span style="color:#ccc9c2cc;">;
</span><span>    </span><span style="color:#ffd580;">flake </span><span style="color:#f29e74;">= </span><span style="color:#ffcc66;">self</span><span style="color:#ccc9c2cc;">;
</span><span>    </span><span style="color:#ffd580;">pkgs </span><span style="color:#f29e74;">= </span><span style="color:#ffcc66;">pkgs</span><span style="color:#ccc9c2cc;">;
</span><span>  }</span><span style="color:#ccc9c2cc;">;
</span><span>}</span><span style="color:#ff3333;">;
</span></code></pre>
<p>And in <code>repl.nix</code>:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="font-style:italic;color:#5c6773;"># repl.nix
</span><span>{
</span><span>  </span><span style="color:#ffcc66;">lib</span><span style="color:#f29e74;">,
</span><span>  </span><span style="color:#ffcc66;">flake</span><span style="color:#f29e74;">,
</span><span>  </span><span style="color:#ffcc66;">pkgs</span><span style="color:#f29e74;">,
</span><span>}: {
</span><span>  </span><span style="color:#ffa759;">inherit </span><span style="color:#ffd580;">flake pkgs lib</span><span style="color:#ccc9c2cc;">;
</span><span>  </span><span style="color:#ffd580;">configs </span><span style="color:#f29e74;">= </span><span style="color:#ffcc66;">flake</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">nixosConfigurations</span><span style="color:#ccc9c2cc;">;
</span><span>  </span><span style="font-style:italic;color:#5c6773;"># inherit (flake.outputs) userVars;
</span><span>}
</span><span style="font-style:italic;color:#5c6773;"># Accepts `lib`, `flake`, `pkgs` from `flake.nix` as arguments
</span><span style="font-style:italic;color:#5c6773;"># Attributes: flake: all flake outputs (flake.outputs, flake.inputs)
</span><span style="font-style:italic;color:#5c6773;"># run `nix repl .#repl` to load the REPL environment
</span><span style="font-style:italic;color:#5c6773;"># :l &lt;nixpkgs&gt;  # load additional Nixpkgs if needed
</span><span style="font-style:italic;color:#5c6773;"># :p flake.inputs.nixpkgs.rev # nixpkgs revision
</span><span style="font-style:italic;color:#5c6773;"># :p flake.inputs.home-manager.rev
</span><span style="font-style:italic;color:#5c6773;"># flake.outputs.packages.x86_64-linux.default # inspect default package
</span><span style="font-style:italic;color:#5c6773;"># pkgs.helix # access helix package
</span><span style="font-style:italic;color:#5c6773;"># lib.version # check lib version
</span><span style="font-style:italic;color:#5c6773;"># configs.magic.config.environment.systemPackages # list packages
</span><span style="font-style:italic;color:#5c6773;"># configs.magic.config.home-manager.users.jr.home.packages # home packages
</span><span style="font-style:italic;color:#5c6773;"># :p configs.magic.config.home-manager.users.jr.programs.git.userName
</span><span style="font-style:italic;color:#5c6773;"># Debugging
</span><span style="font-style:italic;color:#5c6773;"># :p builtins.typeOf configs.magic (should be `set`)
</span><span style="font-style:italic;color:#5c6773;"># :p builtins.attrNames configs.magic
</span><span style="font-style:italic;color:#5c6773;"># :p configs.magic.config # errors indicate issues
</span><span style="font-style:italic;color:#5c6773;"># :p configs.magic.config.environment # isolate the module or issue
</span><span style="font-style:italic;color:#5c6773;"># :p builtins.attrNames configs.magic.config.home-manager.users.jr # home attrs
</span><span style="font-style:italic;color:#5c6773;"># :p configs.magic.config.home-manager.users.jr.programs.git.enable # true/false
</span><span style="font-style:italic;color:#5c6773;">#  :p lib.filterAttrs (n: v: lib.hasPrefix &quot;firefox&quot; n) pkgs
</span><span style="font-style:italic;color:#5c6773;"># :p configs.magic.config.stylix # check theming
</span><span style="font-style:italic;color:#5c6773;"># :p configs.magic.config.home-manager.users.jr.stylix
</span><span style="font-style:italic;color:#5c6773;"># :p lib.mapAttrsToList (name: cfg: name) configs
</span></code></pre>
<blockquote>
<p>❗: Replace <code>magic</code> with your host name</p>
</blockquote>
<h3 id="usage">Usage</h3>
<p>Load REPL environment with:
<code>nix repl .#repl</code></p>
<p>Attributes:</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ffcc66;">builtins</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">attrNames flake</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">inputs
</span><span>[
</span><span>  </span><span style="color:#bae67e;">&quot;dont-track-me&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;helix&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;home-manager&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;hyprland&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;neovim-nightly-overlay&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;nixpkgs&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;nvf&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;rose-pine-hyprcursor&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;stylix&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;treefmt-nix&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;wallpapers&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;wezterm&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;yazi&quot;
</span><span>]
</span><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ffcc66;">builtins</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">attrNames flake</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">outputs
</span><span>[
</span><span>  </span><span style="color:#bae67e;">&quot;checks&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;devShells&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;formatter&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;nixosConfigurations&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;packages&quot;
</span><span>  </span><span style="color:#bae67e;">&quot;repl&quot;
</span><span>]
</span><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ffcc66;">flake</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">outputs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">formatter
</span><span>{
</span><span>  </span><span style="color:#ffd580;">x86_64-linux </span><span style="color:#f29e74;">= </span><span style="color:#ff3333;">«</span><span style="color:#f28779;">derivation </span><span style="color:#bae67e;">/nix/store/q71q00wmh1gnjzdrw5nrvwbr6k414036-treefmt.drv</span><span style="color:#ff3333;">»</span><span style="color:#ccc9c2cc;">;
</span><span>}
</span></code></pre>
<ul>
<li>Inspect the default package output:</li>
</ul>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ffcc66;">flake</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">outputs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">packages</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">x86_64-linux</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">default
</span><span style="color:#ff3333;">«</span><span style="color:#f28779;">derivation </span><span style="color:#bae67e;">/nix/store/6kp660mm62saryskpa1f2p6zwfalcx2w-default-tools.drv</span><span style="color:#ff3333;">»
</span></code></pre>
<ul>
<li>
<p>From here out I'll leave out the <code>nix-repl&gt;</code> prefix just know that it's there.</p>
</li>
<li>
<p>Check lib version(Nixpkgs <code>lib</code> attribute):</p>
</li>
</ul>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">lib</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">version
</span><span style="color:#bae67e;">&quot;25.05pre-git&quot;
</span></code></pre>
<ul>
<li>List systemPackages and home.packages, my hostname is <code>magic</code> list yours in its place:</li>
</ul>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">configs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">magic</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">config</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">environment</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">systemPackages
</span><span style="font-style:italic;color:#5c6773;"># list home.packages
</span><span style="color:#ffcc66;">configs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">magic</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">config</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">home-manager</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">users</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">jr</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">home</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">packages
</span></code></pre>
<ul>
<li>Or an individual value:</li>
</ul>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">p configs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">magic</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">config</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">home-manager</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">users</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">jr</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">programs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">git</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">userName
</span><span style="color:#ffcc66;">TSawyer87
</span></code></pre>
<h3 id="debugging">Debugging</h3>
<ul>
<li>Check if the module system is fully evaluating, anything other than a "set" the configuration isn't fully evaluated (e.g. "lambda" might indicate an unevaluated thunk):</li>
</ul>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">p builtins</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">typeOf configs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">magic
</span><span style="color:#ffcc66;">set
</span></code></pre>
<ul>
<li>
<p>Debugging Module System:</p>
</li>
<li>
<p>Check if <code>configs.magic</code> is a valid configuration:</p>
</li>
</ul>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ff3333;">:</span><span style="color:#ffcc66;">p builtins</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">attrNames configs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">magic
</span></code></pre>
 
    </div>

    <script>
      function setTheme(theme) {
        localStorage.setItem("theme", theme);
        document.documentElement.setAttribute("data-theme", theme);
      }

      document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme") || "light";
        setTheme(savedTheme);
      });

      document
        .getElementById("dark-mode-toggle")
        .addEventListener("click", () => {
          const currentTheme =
            localStorage.getItem("theme") === "dark" ? "light" : "dark";
          setTheme(currentTheme);
        });
    </script>

    <script type="text/javascript" src="https://saylesss88.github.io/blog/elasticlunr.min.js"></script>
    <script type="text/javascript" src="https://saylesss88.github.io/blog/search.js"></script>
  </body>
</html>
