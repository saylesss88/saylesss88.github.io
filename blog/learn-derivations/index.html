<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My-Nix-Blog</title>
    <style>
      body {
        background-color: #282828; /* Dark background */
        color: #ebdbb2; /* Light text for readability */
      }
      ul li {
        margin-bottom: 0.75em; /* Add space below each link item */
      }

     /* style for inline code blocks */
      :not(pre) > code {
        font-family: monospace, monospace; /* Use a monospace font */
        font-size: 0.85em; /* Slightly smaller font size can help */
        background-color: #444444; /* A slightly lighter dark background */
        color: #f8f8f2; /* A common light code text color (like Monokai) */
        padding: 2px 5px; /* Add some padding around the text */
        border-radius: 3px; /* Slightly rounded corners */
        border: 1px solid #666666; /* Optional: Add a subtle border */
      }
    </style>
    <link rel="stylesheet" type="text/css" href="https://saylesss88.github.io/static/syntax-theme-dark.css" media="(prefers-color-scheme: dark)" />
    <link rel="stylesheet" type="text/css" href="https://saylesss88.github.io/static/syntax-theme-light.css" media="(prefers-color-scheme: light)" />
  </head>

  <body>
    <section class="section">
      <div class="container">
<h1 class="title">Derivation Overview &amp; Learning Resources</h1>
<p class="subtitle"><strong>2025-05-07</strong></p>
<h2 id="derivations">Derivations</h2>
<p>A derivation in Nix is a core concept that describes how to build a piece of software or a resource (e.g., a package, library, or configuration file). For beginners, you can think of a derivation as a recipe for cooking a dish. Just as a recipe lists ingredients (dependencies), steps (build instructions), and the final dish (output), a derivation tells Nix what inputs to use, how to build something, and what the result will be.</p>
<h3 id="links-and-short-overview">Links and short Overview</h3>
<ul>
<li>
<p><a href="https://nixos.org/guides/nix-pills/06-our-first-derivation">NixPillsOurFirstDerivation</a></p>
</li>
<li>
<p>The derivation function receives a set as its first argument. This set requires at least the following three attributes:</p>
</li>
</ul>
<ol>
<li>name</li>
<li>system</li>
<li>builder</li>
</ol>
<ul>
<li>
<p><a href="https://nixos.org/guides/nix-pills/07-working-derivation">NixPills-WorkingDerivation</a></p>
</li>
<li>
<p>Create a derivation that actually builds something. Then package a real program: compile a simple C file and create a derivation out of it, given a blessed toolchain.</p>
</li>
<li>
<p><a href="https://nix.dev/manual/nix/2.24/language/derivations">nix.dev-Derivations</a></p>
</li>
<li>
<p>The most important built-in function is <code>derivation</code>, which is used to describe a single derivation: a specification for running an executable on precisely defined input files to repeatable produce output files at uniquely determined file system paths.</p>
</li>
<li>
<p><a href="https://nix.dev/tutorials/packaging-existing-software">nix.dev-packagingExistingSoftware</a></p>
</li>
<li>
<p>Create nix derivations to package C/C++ software, taking advantage of the Nixpkgs Standard Environment(<code>stdenv</code>), which automates much of the work.</p>
</li>
<li>
<p><a href="https://ianthehenry.com/posts/how-to-learn-nix/my-first-derivation/">howToLearnNix-MyFirstDerivation</a></p>
</li>
<li>
<p><a href="https://ianthehenry.com/posts/how-to-learn-nix/derivations-in-detail/">howToLearnNix-DerivationsInDetail</a></p>
</li>
<li>
<p><a href="https://www.sam.today/blog/creating-a-super-simple-derivation-learning-nix-pt-3">Sparky/blog-creatingASuperSimpleDerivation</a> # How to learn Nix</p>
</li>
<li>
<p><a href="https://www.sam.today/blog/derivations-102-learning-nix-pt-4">Sparky/blog-Derivations102</a></p>
</li>
<li>
<p><a href="https://scrive.github.io/nix-workshop/04-derivations/01-derivation-basics.html">ScriveNixWorkshop-nixDerivationBasics</a></p>
</li>
</ul>
<p>Standard Derivation</p>
<pre data-lang="nix" style="background-color:#212733;color:#ccc9c2;" class="language-nix "><code class="language-nix" data-lang="nix"><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ffcc66;">hello-drv </span><span style="color:#ff3333;">= </span><span style="color:#ffcc66;">nixpkgs</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">stdenv</span><span style="color:#f29e74;">.</span><span style="color:#ffcc66;">mkDerivation </span><span>{
</span><span>            </span><span style="color:#ffd580;">name </span><span style="color:#f29e74;">= </span><span style="color:#bae67e;">&quot;hello.txt&quot;</span><span style="color:#ccc9c2cc;">;
</span><span>            </span><span style="color:#ffd580;">unpackPhase </span><span style="color:#f29e74;">= </span><span style="color:#bae67e;">&quot;true&quot;</span><span style="color:#ccc9c2cc;">;
</span><span>            </span><span style="color:#ffd580;">installPhase </span><span style="color:#f29e74;">= </span><span style="color:#bae67e;">&#39;&#39;
</span><span style="color:#bae67e;">              echo -n &quot;Hello World!&quot; &gt; $out
</span><span style="color:#bae67e;">            &#39;&#39;</span><span style="color:#ccc9c2cc;">;
</span><span>          }
</span><span>
</span><span style="color:#ffcc66;">nix-repl</span><span style="color:#f29e74;">&gt; </span><span style="color:#ffcc66;">hello-drv
</span><span style="color:#ff3333;">«</span><span style="color:#f28779;">derivation </span><span style="color:#bae67e;">/nix/store/ad6c51ia15p9arjmvvqkn9fys9sf1kdw-hello.txt.drv</span><span style="color:#ff3333;">»
</span></code></pre>
<ul>
<li>
<p><a href="https://zero-to-nix.com/concepts/derivations/">zeroToNix-Derivations</a></p>
</li>
<li>
<p><a href="https://www.tweag.io/blog/2021-02-17-derivation-outputs-and-output-paths/">Tweag-derivationOutputs</a></p>
</li>
<li>
<p><a href="https://ayats.org/blog/nix-tuto-2">theNixLectures-Derivations</a></p>
</li>
<li>
<p>Derivations are the privimite that Nix uses to define packages. “Package” is a loosely defined term, but a derivation is simply the result of calling <code>builtins.derivation</code>.</p>
</li>
<li>
<p><a href="https://bmcgee.ie/posts/2023/02/nix-what-are-fixed-output-derivations-and-why-use-them/">bmcgee-whatAreFixed-OutputDerivations</a></p>
</li>
<li>
<p>Whilst normal derivations are not allowed network access, <em>fixed-output-derivations</em> are a compromise for situations like this. They provide the network access but in return they must <strong>declare in advance a hash of their contents</strong></p>
</li>
</ul>
 </div>
    </section>
  </body>
</html>
